{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\School\\\\Senior Project\\\\Github Branch\\\\Mellowdies\\\\mellowdies\\\\src\\\\Landingpage\\\\Ai.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst menubackground = {/* styles remain unchanged */};\nconst generateButtonStyle = {/* styles remain unchanged */};\nconst descriptionBoxStyle = {/* styles remain unchanged */};\nconst backButtonStyle = {/* styles remain unchanged */};\nconst contentStyle = {/* styles remain unchanged */};\nfunction AIMenu({\n  handleBack\n}) {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [apiChoice, setApiChoice] = useState(\"old\"); // New state for API selection\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [progressMessage, setProgressMessage] = useState(null);\n  const handleGenerateMusic = async () => {\n    setLoading(true);\n    setErrorMessage(null);\n    setProgressMessage(\"Connecting to the server...\");\n    try {\n      const response = await fetch(\"http://localhost:3001/api/generate-music\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          description,\n          model: \"facebook/musicgen-stereo-melody-large\",\n          // Send the model you want to use\n          decoder: \"MultiBand_Diffusion\",\n          // The decoder choice\n          duration: 1,\n          // Send other parameters here like duration, top-k, etc.\n          top_k: 250,\n          top_p: 0,\n          temperature: 1,\n          guidance: 3\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Server failed to generate music.\");\n      }\n      setProgressMessage(\"Generating music on server...\");\n      const blob = await response.blob();\n      setProgressMessage(\"Downloading generated music file...\");\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `${description}_generated_music.wav`;\n\n      // Trigger download\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n      setProgressMessage(\"Download complete. Check your Downloads folder.\");\n    } catch (error) {\n      console.error(\"Error during music generation or download:\", error);\n      setErrorMessage(`Failed to generate or download music: ${error.message}`);\n      setProgressMessage(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: menubackground,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: contentStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"AI Music Generator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 26\n      }, this), progressMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"blue\"\n        },\n        children: progressMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"apiChoice\",\n        children: \"Choose API:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"apiChoice\",\n        value: apiChoice,\n        onChange: e => setApiChoice(e.target.value),\n        disabled: loading,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"old\",\n          children: \"Old API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"new\",\n          children: \"New API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        style: descriptionBoxStyle,\n        placeholder: \"Describe your music...\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: generateButtonStyle,\n        onClick: handleGenerateMusic,\n        disabled: loading,\n        children: loading ? \"Processing...\" : \"Generate Music\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: backButtonStyle,\n        onClick: handleBack,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(AIMenu, \"ODmEd8cGfKfJ4OtjrfYO7ujbXOA=\");\n_c = AIMenu;\nexport default AIMenu;\nvar _c;\n$RefreshReg$(_c, \"AIMenu\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","menubackground","generateButtonStyle","descriptionBoxStyle","backButtonStyle","contentStyle","AIMenu","handleBack","_s","loading","setLoading","description","setDescription","apiChoice","setApiChoice","errorMessage","setErrorMessage","progressMessage","setProgressMessage","handleGenerateMusic","response","fetch","method","headers","body","JSON","stringify","model","decoder","duration","top_k","top_p","temperature","guidance","ok","Error","blob","url","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","remove","revokeObjectURL","error","console","message","style","children","fileName","_jsxFileName","lineNumber","columnNumber","color","htmlFor","id","value","onChange","e","target","disabled","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/kevin/Desktop/School/Senior Project/Github Branch/Mellowdies/mellowdies/src/Landingpage/Ai.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst menubackground = { /* styles remain unchanged */ };\r\nconst generateButtonStyle = { /* styles remain unchanged */ };\r\nconst descriptionBoxStyle = { /* styles remain unchanged */ };\r\nconst backButtonStyle = { /* styles remain unchanged */ };\r\nconst contentStyle = { /* styles remain unchanged */ };\r\n\r\nfunction AIMenu({ handleBack }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [apiChoice, setApiChoice] = useState(\"old\");  // New state for API selection\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [progressMessage, setProgressMessage] = useState(null);\r\n\r\n  const handleGenerateMusic = async () => {\r\n    setLoading(true);\r\n    setErrorMessage(null);\r\n    setProgressMessage(\"Connecting to the server...\");\r\n  \r\n    try {\r\n      const response = await fetch(\"http://localhost:3001/api/generate-music\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          description,\r\n          model: \"facebook/musicgen-stereo-melody-large\",  // Send the model you want to use\r\n          decoder: \"MultiBand_Diffusion\",  // The decoder choice\r\n          duration: 1,  // Send other parameters here like duration, top-k, etc.\r\n          top_k: 250,\r\n          top_p: 0,\r\n          temperature: 1,\r\n          guidance: 3\r\n        }),\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(\"Server failed to generate music.\");\r\n      }\r\n  \r\n      setProgressMessage(\"Generating music on server...\");\r\n  \r\n      const blob = await response.blob();\r\n      setProgressMessage(\"Downloading generated music file...\");\r\n  \r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `${description}_generated_music.wav`;\r\n  \r\n      // Trigger download\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      a.remove();\r\n      URL.revokeObjectURL(url);\r\n  \r\n      setProgressMessage(\"Download complete. Check your Downloads folder.\");\r\n    } catch (error) {\r\n      console.error(\"Error during music generation or download:\", error);\r\n      setErrorMessage(`Failed to generate or download music: ${error.message}`);\r\n      setProgressMessage(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div style={menubackground}>\r\n      <div style={contentStyle}>\r\n        <h1>AI Music Generator</h1>\r\n        {errorMessage && <div style={{ color: \"red\" }}>{errorMessage}</div>}\r\n        {progressMessage && <div style={{ color: \"blue\" }}>{progressMessage}</div>}\r\n        \r\n        {/* Dropdown for API selection */}\r\n        <label htmlFor=\"apiChoice\">Choose API:</label>\r\n        <select\r\n          id=\"apiChoice\"\r\n          value={apiChoice}\r\n          onChange={(e) => setApiChoice(e.target.value)}\r\n          disabled={loading}\r\n        >\r\n          <option value=\"old\">Old API</option>\r\n          <option value=\"new\">New API</option>\r\n        </select>\r\n\r\n        <textarea\r\n          style={descriptionBoxStyle}\r\n          placeholder=\"Describe your music...\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <button style={generateButtonStyle} onClick={handleGenerateMusic} disabled={loading}>\r\n          {loading ? \"Processing...\" : \"Generate Music\"}\r\n        </button>\r\n        <button style={backButtonStyle} onClick={handleBack}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AIMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}