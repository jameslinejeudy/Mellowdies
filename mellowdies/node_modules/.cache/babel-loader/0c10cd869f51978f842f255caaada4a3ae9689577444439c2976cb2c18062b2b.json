{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\james\\\\Downloads\\\\Mellowdies\\\\mellowdies\\\\src\\\\Exportpage\\\\Exportpage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport WaveSurfer from 'wavesurfer.js';\nimport PlayButton from '../Landingpage/PlayButton.js';\nimport './Exportpage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Exportpage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const waveformContainer = useRef(null);\n  const waveSurferInstance = useRef(null);\n  const [audioFile, setAudioFile] = useState(null);\n  const [time, setTime] = useState({\n    current: 0,\n    total: 0\n  });\n  const [speedFactor, setSpeedFactor] = useState(1);\n  const [waveReady, setWaveReady] = useState(false);\n  useEffect(() => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.mergedAudio) {\n      setAudioFile(location.state.mergedAudio);\n    }\n  }, [location.state]);\n  useEffect(() => {\n    if (audioFile && waveformContainer.current) {\n      waveSurferInstance.current = WaveSurfer.create({\n        container: waveformContainer.current,\n        waveColor: `rgba(${Math.floor(Math.random() * 255)}, 100, 200, 0.8)`,\n        progressColor: `rgba(${Math.floor(Math.random() * 255)}, 255, 0, 0.6)`,\n        height: 70,\n        barWidth: Math.random() * 3 + 2,\n        barHeight: 1,\n        responsive: true,\n        cursorColor: '#FFCC00',\n        normalize: true\n      });\n      waveSurferInstance.current.on('ready', () => {\n        setTime({\n          current: 0,\n          total: waveSurferInstance.current.getDuration()\n        });\n        setWaveReady(true);\n      });\n      waveSurferInstance.current.on('audioprocess', () => {\n        if (waveSurferInstance.current.isPlaying()) {\n          setTime({\n            ...time,\n            current: waveSurferInstance.current.getCurrentTime()\n          });\n        }\n      });\n      waveSurferInstance.current.load(audioFile);\n    }\n  }, [audioFile]);\n  const changeTimeline = event => {\n    const newTime = parseFloat(event.target.value);\n    setTime(prev => ({\n      ...prev,\n      current: newTime\n    }));\n    waveSurferInstance.current.setCurrentTime(newTime);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"export-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: waveformContainer,\n      style: {\n        height: '150px',\n        margin: '20px auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: time.total,\n      value: time.current,\n      step: \"0.01\",\n      onChange: changeTimeline,\n      style: {\n        width: '80%',\n        margin: '0 auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '80%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: time.current.toFixed(2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: time.total.toFixed(2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PlayButton, {\n      waveSurferRef: waveSurferInstance,\n      setSpeed: setSpeedFactor,\n      speed: speedFactor,\n      isWaveReady: waveReady\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        if (audioFile) {\n          const tempDownload = document.createElement('a');\n          tempDownload.href = audioFile;\n          tempDownload.download = 'unique_audio_track.mp3';\n          tempDownload.click();\n        }\n      },\n      children: \"Download Track\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(-1),\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/Homepage'),\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(Exportpage, \"SuqAotB1MpELSaby/qvclydpZqw=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Exportpage;\nexport default Exportpage;\nvar _c;\n$RefreshReg$(_c, \"Exportpage\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useLocation","useNavigate","WaveSurfer","PlayButton","jsxDEV","_jsxDEV","Exportpage","_s","location","navigate","waveformContainer","waveSurferInstance","audioFile","setAudioFile","time","setTime","current","total","speedFactor","setSpeedFactor","waveReady","setWaveReady","_location$state","state","mergedAudio","create","container","waveColor","Math","floor","random","progressColor","height","barWidth","barHeight","responsive","cursorColor","normalize","on","getDuration","isPlaying","getCurrentTime","load","changeTimeline","event","newTime","parseFloat","target","value","prev","setCurrentTime","className","children","ref","style","margin","fileName","_jsxFileName","lineNumber","columnNumber","type","min","max","step","onChange","width","display","justifyContent","toFixed","waveSurferRef","setSpeed","speed","isWaveReady","onClick","tempDownload","document","createElement","href","download","click","_c","$RefreshReg$"],"sources":["C:/Users/james/Downloads/Mellowdies/mellowdies/src/Exportpage/Exportpage.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport WaveSurfer from 'wavesurfer.js';\r\nimport PlayButton from '../Landingpage/PlayButton.js';\r\nimport './Exportpage.css';\r\n\r\nconst Exportpage = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const waveformContainer = useRef(null);\r\n    const waveSurferInstance = useRef(null);\r\n    const [audioFile, setAudioFile] = useState(null);\r\n    const [time, setTime] = useState({ current: 0, total: 0 });\r\n    const [speedFactor, setSpeedFactor] = useState(1);\r\n    const [waveReady, setWaveReady] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (location.state?.mergedAudio) {\r\n            setAudioFile(location.state.mergedAudio);\r\n        }\r\n    }, [location.state]);\r\n\r\n    useEffect(() => {\r\n        if (audioFile && waveformContainer.current) {\r\n            waveSurferInstance.current = WaveSurfer.create({\r\n                container: waveformContainer.current,\r\n                waveColor: `rgba(${Math.floor(Math.random() * 255)}, 100, 200, 0.8)`,\r\n                progressColor: `rgba(${Math.floor(Math.random() * 255)}, 255, 0, 0.6)`,\r\n                height: 70,\r\n                barWidth: Math.random() * 3 + 2,\r\n                barHeight: 1,\r\n                responsive: true,\r\n                cursorColor: '#FFCC00',\r\n                normalize: true,\r\n            });\r\n\r\n            waveSurferInstance.current.on('ready', () => {\r\n                setTime({ current: 0, total: waveSurferInstance.current.getDuration() });\r\n                setWaveReady(true);\r\n            });\r\n\r\n            waveSurferInstance.current.on('audioprocess', () => {\r\n                if (waveSurferInstance.current.isPlaying()) {\r\n                    setTime({ ...time, current: waveSurferInstance.current.getCurrentTime() });\r\n                }\r\n            });\r\n\r\n            waveSurferInstance.current.load(audioFile);\r\n        }\r\n    }, [audioFile]);\r\n\r\n    const changeTimeline = (event) => {\r\n        const newTime = parseFloat(event.target.value);\r\n        setTime((prev) => ({ ...prev, current: newTime }));\r\n        waveSurferInstance.current.setCurrentTime(newTime);\r\n    };\r\n\r\n    return (\r\n        <div className=\"export-page\">\r\n            <div ref={waveformContainer} style={{ height: '150px', margin: '20px auto' }}></div>\r\n            <input\r\n                type=\"range\"\r\n                min=\"0\"\r\n                max={time.total}\r\n                value={time.current}\r\n                step=\"0.01\"\r\n                onChange={changeTimeline}\r\n                style={{ width: '80%', margin: '0 auto' }}\r\n            />\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', width: '80%' }}>\r\n                <span>{time.current.toFixed(2)}</span>\r\n                <span>{time.total.toFixed(2)}</span>\r\n            </div>\r\n            <PlayButton\r\n                waveSurferRef={waveSurferInstance}\r\n                setSpeed={setSpeedFactor}\r\n                speed={speedFactor}\r\n                isWaveReady={waveReady}\r\n            />\r\n            <button\r\n                onClick={() => {\r\n                    if (audioFile) {\r\n                        const tempDownload = document.createElement('a');\r\n                        tempDownload.href = audioFile;\r\n                        tempDownload.download = 'unique_audio_track.mp3';\r\n                        tempDownload.click();\r\n                    }\r\n                }}\r\n            >\r\n                Download Track\r\n            </button>\r\n            <button onClick={() => navigate(-1)}>Go Back</button>\r\n            <button onClick={() => navigate('/Homepage')}>Home</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Exportpage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}