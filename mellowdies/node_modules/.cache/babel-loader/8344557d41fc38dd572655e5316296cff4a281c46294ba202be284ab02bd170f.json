{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst {\n  getContext\n} = require(\"loader-runner\");\nconst asyncLib = require(\"neo-async\");\nconst {\n  AsyncSeriesBailHook,\n  SyncWaterfallHook,\n  SyncBailHook,\n  SyncHook,\n  HookMap\n} = require(\"tapable\");\nconst ChunkGraph = require(\"./ChunkGraph\");\nconst Module = require(\"./Module\");\nconst ModuleFactory = require(\"./ModuleFactory\");\nconst ModuleGraph = require(\"./ModuleGraph\");\nconst {\n  JAVASCRIPT_MODULE_TYPE_AUTO\n} = require(\"./ModuleTypeConstants\");\nconst NormalModule = require(\"./NormalModule\");\nconst BasicEffectRulePlugin = require(\"./rules/BasicEffectRulePlugin\");\nconst BasicMatcherRulePlugin = require(\"./rules/BasicMatcherRulePlugin\");\nconst ObjectMatcherRulePlugin = require(\"./rules/ObjectMatcherRulePlugin\");\nconst RuleSetCompiler = require(\"./rules/RuleSetCompiler\");\nconst UseEffectRulePlugin = require(\"./rules/UseEffectRulePlugin\");\nconst LazySet = require(\"./util/LazySet\");\nconst {\n  getScheme\n} = require(\"./util/URLAbsoluteSpecifier\");\nconst {\n  cachedCleverMerge,\n  cachedSetProperty\n} = require(\"./util/cleverMerge\");\nconst {\n  join\n} = require(\"./util/fs\");\nconst {\n  parseResource,\n  parseResourceWithoutFragment\n} = require(\"./util/identifier\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n/** @typedef {import(\"../declarations/WebpackOptions\").RuleSetRule} RuleSetRule */\n/** @typedef {import(\"./Generator\")} Generator */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryCreateData} ModuleFactoryCreateData */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryCreateDataContextInfo} ModuleFactoryCreateDataContextInfo */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryResult} ModuleFactoryResult */\n/** @typedef {import(\"./NormalModule\").GeneratorOptions} GeneratorOptions */\n/** @typedef {import(\"./NormalModule\").LoaderItem} LoaderItem */\n/** @typedef {import(\"./NormalModule\").NormalModuleCreateData} NormalModuleCreateData */\n/** @typedef {import(\"./NormalModule\").ParserOptions} ParserOptions */\n/** @typedef {import(\"./Parser\")} Parser */\n/** @typedef {import(\"./ResolverFactory\")} ResolverFactory */\n/** @typedef {import(\"./ResolverFactory\").ResolveContext} ResolveContext */\n/** @typedef {import(\"./ResolverFactory\").ResolveRequest} ResolveRequest */\n/** @typedef {import(\"./ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"./dependencies/ModuleDependency\")} ModuleDependency */\n/** @typedef {import(\"./util/fs\").InputFileSystem} InputFileSystem */\n\n/** @typedef {Pick<RuleSetRule, 'type'|'sideEffects'|'parser'|'generator'|'resolve'|'layer'>} ModuleSettings */\n/** @typedef {Partial<NormalModuleCreateData & {settings: ModuleSettings}>} CreateData */\n\n/**\n * @typedef {object} ResolveData\n * @property {ModuleFactoryCreateData[\"contextInfo\"]} contextInfo\n * @property {ModuleFactoryCreateData[\"resolveOptions\"]} resolveOptions\n * @property {string} context\n * @property {string} request\n * @property {Record<string, any> | undefined} assertions\n * @property {ModuleDependency[]} dependencies\n * @property {string} dependencyType\n * @property {CreateData} createData\n * @property {LazySet<string>} fileDependencies\n * @property {LazySet<string>} missingDependencies\n * @property {LazySet<string>} contextDependencies\n * @property {boolean} cacheable allow to use the unsafe cache\n */\n\n/**\n * @typedef {object} ResourceData\n * @property {string} resource\n * @property {string=} path\n * @property {string=} query\n * @property {string=} fragment\n * @property {string=} context\n */\n\n/** @typedef {ResourceData & { data: Record<string, any> }} ResourceDataWithData */\n\n/**\n * @typedef {object} ParsedLoaderRequest\n * @property {string} loader loader\n * @property {string|undefined} options options\n */\n\n/**\n * @template T\n * @callback Callback\n * @param {(Error | null)=} err\n * @param {T=} stats\n * @returns {void}\n */\n\nconst EMPTY_RESOLVE_OPTIONS = {};\n/** @type {ParserOptions} */\nconst EMPTY_PARSER_OPTIONS = {};\n/** @type {GeneratorOptions} */\nconst EMPTY_GENERATOR_OPTIONS = {};\n/** @type {ParsedLoaderRequest[]} */\nconst EMPTY_ELEMENTS = [];\nconst MATCH_RESOURCE_REGEX = /^([^!]+)!=!/;\nconst LEADING_DOT_EXTENSION_REGEX = /^[^.]/;\n\n/**\n * @param {LoaderItem} data data\n * @returns {string} ident\n */\nconst loaderToIdent = data => {\n  if (!data.options) {\n    return data.loader;\n  }\n  if (typeof data.options === \"string\") {\n    return `${data.loader}?${data.options}`;\n  }\n  if (typeof data.options !== \"object\") {\n    throw new Error(\"loader options must be string or object\");\n  }\n  if (data.ident) {\n    return `${data.loader}??${data.ident}`;\n  }\n  return `${data.loader}?${JSON.stringify(data.options)}`;\n};\n\n/**\n * @param {LoaderItem[]} loaders loaders\n * @param {string} resource resource\n * @returns {string} stringified loaders and resource\n */\nconst stringifyLoadersAndResource = (loaders, resource) => {\n  let str = \"\";\n  for (const loader of loaders) {\n    str += `${loaderToIdent(loader)}!`;\n  }\n  return str + resource;\n};\n\n/**\n * @param {number} times times\n * @param {(err?: null | Error) => void} callback callback\n * @returns {(err?: null | Error) => void} callback\n */\nconst needCalls = (times, callback) => err => {\n  if (--times === 0) {\n    return callback(err);\n  }\n  if (err && times > 0) {\n    times = Number.NaN;\n    return callback(err);\n  }\n};\n\n/**\n * @template T\n * @template O\n * @param {T} globalOptions global options\n * @param {string} type type\n * @param {O} localOptions local options\n * @returns {T & O | T | O} result\n */\nconst mergeGlobalOptions = (globalOptions, type, localOptions) => {\n  const parts = type.split(\"/\");\n  let result;\n  let current = \"\";\n  for (const part of parts) {\n    current = current ? `${current}/${part}` : part;\n    const options = globalOptions[current];\n    if (typeof options === \"object\") {\n      result = result === undefined ? options : cachedCleverMerge(result, options);\n    }\n  }\n  if (result === undefined) {\n    return localOptions;\n  }\n  return cachedCleverMerge(result, localOptions);\n};\n\n// TODO webpack 6 remove\n/**\n * @param {string} name name\n * @param {TODO} hook hook\n * @returns {string} result\n */\nconst deprecationChangedHookMessage = (name, hook) => {\n  const names = hook.taps.map(\n  /**\n   * @param {TODO} tapped tapped\n   * @returns {string} name\n   */\n  tapped => tapped.name).join(\", \");\n  return `NormalModuleFactory.${name} (${names}) is no longer a waterfall hook, but a bailing hook instead. ` + \"Do not return the passed object, but modify it instead. \" + \"Returning false will ignore the request and results in no module created.\";\n};\nconst ruleSetCompiler = new RuleSetCompiler([new BasicMatcherRulePlugin(\"test\", \"resource\"), new BasicMatcherRulePlugin(\"scheme\"), new BasicMatcherRulePlugin(\"mimetype\"), new BasicMatcherRulePlugin(\"dependency\"), new BasicMatcherRulePlugin(\"include\", \"resource\"), new BasicMatcherRulePlugin(\"exclude\", \"resource\", true), new BasicMatcherRulePlugin(\"resource\"), new BasicMatcherRulePlugin(\"resourceQuery\"), new BasicMatcherRulePlugin(\"resourceFragment\"), new BasicMatcherRulePlugin(\"realResource\"), new BasicMatcherRulePlugin(\"issuer\"), new BasicMatcherRulePlugin(\"compiler\"), new BasicMatcherRulePlugin(\"issuerLayer\"), new ObjectMatcherRulePlugin(\"assert\", \"assertions\", value => value && /** @type {any} */value._isLegacyAssert !== undefined), new ObjectMatcherRulePlugin(\"with\", \"assertions\", value => value && !(/** @type {any} */value._isLegacyAssert)), new ObjectMatcherRulePlugin(\"descriptionData\"), new BasicEffectRulePlugin(\"type\"), new BasicEffectRulePlugin(\"sideEffects\"), new BasicEffectRulePlugin(\"parser\"), new BasicEffectRulePlugin(\"resolve\"), new BasicEffectRulePlugin(\"generator\"), new BasicEffectRulePlugin(\"layer\"), new UseEffectRulePlugin()]);\nclass NormalModuleFactory extends ModuleFactory {\n  /**\n   * @param {object} param params\n   * @param {string=} param.context context\n   * @param {InputFileSystem} param.fs file system\n   * @param {ResolverFactory} param.resolverFactory resolverFactory\n   * @param {ModuleOptions} param.options options\n   * @param {object=} param.associatedObjectForCache an object to which the cache will be attached\n   * @param {boolean=} param.layers enable layers\n   */\n  constructor({\n    context,\n    fs,\n    resolverFactory,\n    options,\n    associatedObjectForCache,\n    layers = false\n  }) {\n    super();\n    this.hooks = Object.freeze({\n      /** @type {AsyncSeriesBailHook<[ResolveData], Module | false | void>} */\n      resolve: new AsyncSeriesBailHook([\"resolveData\"]),\n      /** @type {HookMap<AsyncSeriesBailHook<[ResourceDataWithData, ResolveData], true | void>>} */\n      resolveForScheme: new HookMap(() => new AsyncSeriesBailHook([\"resourceData\", \"resolveData\"])),\n      /** @type {HookMap<AsyncSeriesBailHook<[ResourceDataWithData, ResolveData], true | void>>} */\n      resolveInScheme: new HookMap(() => new AsyncSeriesBailHook([\"resourceData\", \"resolveData\"])),\n      /** @type {AsyncSeriesBailHook<[ResolveData], Module | undefined>} */\n      factorize: new AsyncSeriesBailHook([\"resolveData\"]),\n      /** @type {AsyncSeriesBailHook<[ResolveData], false | void>} */\n      beforeResolve: new AsyncSeriesBailHook([\"resolveData\"]),\n      /** @type {AsyncSeriesBailHook<[ResolveData], false | void>} */\n      afterResolve: new AsyncSeriesBailHook([\"resolveData\"]),\n      /** @type {AsyncSeriesBailHook<[ResolveData[\"createData\"], ResolveData], Module | void>} */\n      createModule: new AsyncSeriesBailHook([\"createData\", \"resolveData\"]),\n      /** @type {SyncWaterfallHook<[Module, ResolveData[\"createData\"], ResolveData], Module>} */\n      module: new SyncWaterfallHook([\"module\", \"createData\", \"resolveData\"]),\n      /** @type {HookMap<SyncBailHook<[ParserOptions], Parser>>} */\n      createParser: new HookMap(() => new SyncBailHook([\"parserOptions\"])),\n      /** @type {HookMap<SyncBailHook<[TODO, ParserOptions], void>>} */\n      parser: new HookMap(() => new SyncHook([\"parser\", \"parserOptions\"])),\n      /** @type {HookMap<SyncBailHook<[GeneratorOptions], Generator>>} */\n      createGenerator: new HookMap(() => new SyncBailHook([\"generatorOptions\"])),\n      /** @type {HookMap<SyncBailHook<[TODO, GeneratorOptions], void>>} */\n      generator: new HookMap(() => new SyncHook([\"generator\", \"generatorOptions\"])),\n      /** @type {HookMap<SyncBailHook<[TODO, ResolveData], Module>>} */\n      createModuleClass: new HookMap(() => new SyncBailHook([\"createData\", \"resolveData\"]))\n    });\n    this.resolverFactory = resolverFactory;\n    this.ruleSet = ruleSetCompiler.compile([{\n      rules: options.defaultRules\n    }, {\n      rules: options.rules\n    }]);\n    this.context = context || \"\";\n    this.fs = fs;\n    this._globalParserOptions = options.parser;\n    this._globalGeneratorOptions = options.generator;\n    /** @type {Map<string, WeakMap<object, Parser>>} */\n    this.parserCache = new Map();\n    /** @type {Map<string, WeakMap<object, Generator>>} */\n    this.generatorCache = new Map();\n    /** @type {Set<Module>} */\n    this._restoredUnsafeCacheEntries = new Set();\n    const cacheParseResource = parseResource.bindCache(associatedObjectForCache);\n    const cachedParseResourceWithoutFragment = parseResourceWithoutFragment.bindCache(associatedObjectForCache);\n    this._parseResourceWithoutFragment = cachedParseResourceWithoutFragment;\n    this.hooks.factorize.tapAsync({\n      name: \"NormalModuleFactory\",\n      stage: 100\n    }, (resolveData, callback) => {\n      this.hooks.resolve.callAsync(resolveData, (err, result) => {\n        if (err) return callback(err);\n\n        // Ignored\n        if (result === false) return callback();\n\n        // direct module\n        if (result instanceof Module) return callback(null, result);\n        if (typeof result === \"object\") throw new Error(`${deprecationChangedHookMessage(\"resolve\", this.hooks.resolve)} Returning a Module object will result in this module used as result.`);\n        this.hooks.afterResolve.callAsync(resolveData, (err, result) => {\n          if (err) return callback(err);\n          if (typeof result === \"object\") throw new Error(deprecationChangedHookMessage(\"afterResolve\", this.hooks.afterResolve));\n\n          // Ignored\n          if (result === false) return callback();\n          const createData = resolveData.createData;\n          this.hooks.createModule.callAsync(createData, resolveData, (err, createdModule) => {\n            if (!createdModule) {\n              if (!resolveData.request) {\n                return callback(new Error(\"Empty dependency (no request)\"));\n              }\n\n              // TODO webpack 6 make it required and move javascript/wasm/asset properties to own module\n              createdModule = this.hooks.createModuleClass.for(/** @type {ModuleSettings} */createData.settings.type).call(createData, resolveData);\n              if (!createdModule) {\n                createdModule = /** @type {Module} */\n                new NormalModule(/** @type {NormalModuleCreateData} */createData);\n              }\n            }\n            createdModule = this.hooks.module.call(createdModule, createData, resolveData);\n            return callback(null, createdModule);\n          });\n        });\n      });\n    });\n    this.hooks.resolve.tapAsync({\n      name: \"NormalModuleFactory\",\n      stage: 100\n    }, (data, callback) => {\n      const {\n        contextInfo,\n        context,\n        dependencies,\n        dependencyType,\n        request,\n        assertions,\n        resolveOptions,\n        fileDependencies,\n        missingDependencies,\n        contextDependencies\n      } = data;\n      const loaderResolver = this.getResolver(\"loader\");\n\n      /** @type {ResourceData | undefined} */\n      let matchResourceData;\n      /** @type {string} */\n      let unresolvedResource;\n      /** @type {ParsedLoaderRequest[]} */\n      let elements;\n      let noPreAutoLoaders = false;\n      let noAutoLoaders = false;\n      let noPrePostAutoLoaders = false;\n      const contextScheme = getScheme(context);\n      /** @type {string | undefined} */\n      let scheme = getScheme(request);\n      if (!scheme) {\n        /** @type {string} */\n        let requestWithoutMatchResource = request;\n        const matchResourceMatch = MATCH_RESOURCE_REGEX.exec(request);\n        if (matchResourceMatch) {\n          let matchResource = matchResourceMatch[1];\n          if (matchResource.charCodeAt(0) === 46) {\n            // 46 === \".\", 47 === \"/\"\n            const secondChar = matchResource.charCodeAt(1);\n            if (secondChar === 47 || secondChar === 46 && matchResource.charCodeAt(2) === 47) {\n              // if matchResources startsWith ../ or ./\n              matchResource = join(this.fs, context, matchResource);\n            }\n          }\n          matchResourceData = {\n            resource: matchResource,\n            ...cacheParseResource(matchResource)\n          };\n          requestWithoutMatchResource = request.slice(matchResourceMatch[0].length);\n        }\n        scheme = getScheme(requestWithoutMatchResource);\n        if (!scheme && !contextScheme) {\n          const firstChar = requestWithoutMatchResource.charCodeAt(0);\n          const secondChar = requestWithoutMatchResource.charCodeAt(1);\n          noPreAutoLoaders = firstChar === 45 && secondChar === 33; // startsWith \"-!\"\n          noAutoLoaders = noPreAutoLoaders || firstChar === 33; // startsWith \"!\"\n          noPrePostAutoLoaders = firstChar === 33 && secondChar === 33; // startsWith \"!!\";\n          const rawElements = requestWithoutMatchResource.slice(noPreAutoLoaders || noPrePostAutoLoaders ? 2 : noAutoLoaders ? 1 : 0).split(/!+/);\n          unresolvedResource = /** @type {string} */rawElements.pop();\n          elements = rawElements.map(el => {\n            const {\n              path,\n              query\n            } = cachedParseResourceWithoutFragment(el);\n            return {\n              loader: path,\n              options: query ? query.slice(1) : undefined\n            };\n          });\n          scheme = getScheme(unresolvedResource);\n        } else {\n          unresolvedResource = requestWithoutMatchResource;\n          elements = EMPTY_ELEMENTS;\n        }\n      } else {\n        unresolvedResource = request;\n        elements = EMPTY_ELEMENTS;\n      }\n\n      /** @type {ResolveContext} */\n      const resolveContext = {\n        fileDependencies,\n        missingDependencies,\n        contextDependencies\n      };\n\n      /** @type {ResourceDataWithData} */\n      let resourceData;\n\n      /** @type {undefined | LoaderItem[]} */\n      let loaders;\n      const continueCallback = needCalls(2, err => {\n        if (err) return callback(err);\n\n        // translate option idents\n        try {\n          for (const item of (/** @type {LoaderItem[]} */loaders)) {\n            if (typeof item.options === \"string\" && item.options[0] === \"?\") {\n              const ident = item.options.slice(1);\n              if (ident === \"[[missing ident]]\") {\n                throw new Error(\"No ident is provided by referenced loader. \" + \"When using a function for Rule.use in config you need to \" + \"provide an 'ident' property for referenced loader options.\");\n              }\n              item.options = this.ruleSet.references.get(ident);\n              if (item.options === undefined) {\n                throw new Error(\"Invalid ident is provided by referenced loader\");\n              }\n              item.ident = ident;\n            }\n          }\n        } catch (identErr) {\n          return callback(/** @type {Error} */identErr);\n        }\n        if (!resourceData) {\n          // ignored\n          return callback(null, dependencies[0].createIgnoredModule(context));\n        }\n        const userRequest = (matchResourceData !== undefined ? `${matchResourceData.resource}!=!` : \"\") + stringifyLoadersAndResource(/** @type {LoaderItem[]} */loaders, resourceData.resource);\n\n        /** @type {ModuleSettings} */\n        const settings = {};\n        const useLoadersPost = [];\n        const useLoaders = [];\n        const useLoadersPre = [];\n\n        // handle .webpack[] suffix\n        let resource;\n        let match;\n        if (matchResourceData && typeof (resource = matchResourceData.resource) === \"string\" && (match = /\\.webpack\\[([^\\]]+)\\]$/.exec(resource))) {\n          settings.type = match[1];\n          matchResourceData.resource = matchResourceData.resource.slice(0, -settings.type.length - 10);\n        } else {\n          settings.type = JAVASCRIPT_MODULE_TYPE_AUTO;\n          const resourceDataForRules = matchResourceData || resourceData;\n          const result = this.ruleSet.exec({\n            resource: resourceDataForRules.path,\n            realResource: resourceData.path,\n            resourceQuery: resourceDataForRules.query,\n            resourceFragment: resourceDataForRules.fragment,\n            scheme,\n            assertions,\n            mimetype: matchResourceData ? \"\" : resourceData.data.mimetype || \"\",\n            dependency: dependencyType,\n            descriptionData: matchResourceData ? undefined : resourceData.data.descriptionFileData,\n            issuer: contextInfo.issuer,\n            compiler: contextInfo.compiler,\n            issuerLayer: contextInfo.issuerLayer || \"\"\n          });\n          for (const r of result) {\n            // https://github.com/webpack/webpack/issues/16466\n            // if a request exists PrePostAutoLoaders, should disable modifying Rule.type\n            if (r.type === \"type\" && noPrePostAutoLoaders) {\n              continue;\n            }\n            if (r.type === \"use\") {\n              if (!noAutoLoaders && !noPrePostAutoLoaders) {\n                useLoaders.push(r.value);\n              }\n            } else if (r.type === \"use-post\") {\n              if (!noPrePostAutoLoaders) {\n                useLoadersPost.push(r.value);\n              }\n            } else if (r.type === \"use-pre\") {\n              if (!noPreAutoLoaders && !noPrePostAutoLoaders) {\n                useLoadersPre.push(r.value);\n              }\n            } else if (typeof r.value === \"object\" && r.value !== null && typeof settings[(/** @type {keyof ModuleSettings} */r.type)] === \"object\" && settings[(/** @type {keyof ModuleSettings} */r.type)] !== null) {\n              settings[r.type] = cachedCleverMerge(settings[(/** @type {keyof ModuleSettings} */r.type)], r.value);\n            } else {\n              settings[r.type] = r.value;\n            }\n          }\n        }\n\n        /** @type {undefined | LoaderItem[]} */\n        let postLoaders;\n        /** @type {undefined | LoaderItem[]} */\n        let normalLoaders;\n        /** @type {undefined | LoaderItem[]} */\n        let preLoaders;\n        const continueCallback = needCalls(3, err => {\n          if (err) {\n            return callback(err);\n          }\n          const allLoaders = /** @type {LoaderItem[]} */postLoaders;\n          if (matchResourceData === undefined) {\n            for (const loader of (/** @type {LoaderItem[]} */loaders)) allLoaders.push(loader);\n            for (const loader of (/** @type {LoaderItem[]} */normalLoaders)) allLoaders.push(loader);\n          } else {\n            for (const loader of (/** @type {LoaderItem[]} */normalLoaders)) allLoaders.push(loader);\n            for (const loader of (/** @type {LoaderItem[]} */loaders)) allLoaders.push(loader);\n          }\n          for (const loader of (/** @type {LoaderItem[]} */preLoaders)) allLoaders.push(loader);\n          const type = /** @type {string} */settings.type;\n          const resolveOptions = settings.resolve;\n          const layer = settings.layer;\n          if (layer !== undefined && !layers) {\n            return callback(new Error(\"'Rule.layer' is only allowed when 'experiments.layers' is enabled\"));\n          }\n          try {\n            Object.assign(data.createData, {\n              layer: layer === undefined ? contextInfo.issuerLayer || null : layer,\n              request: stringifyLoadersAndResource(allLoaders, resourceData.resource),\n              userRequest,\n              rawRequest: request,\n              loaders: allLoaders,\n              resource: resourceData.resource,\n              context: resourceData.context || getContext(resourceData.resource),\n              matchResource: matchResourceData ? matchResourceData.resource : undefined,\n              resourceResolveData: resourceData.data,\n              settings,\n              type,\n              parser: this.getParser(type, settings.parser),\n              parserOptions: settings.parser,\n              generator: this.getGenerator(type, settings.generator),\n              generatorOptions: settings.generator,\n              resolveOptions\n            });\n          } catch (createDataErr) {\n            return callback(/** @type {Error} */createDataErr);\n          }\n          callback();\n        });\n        this.resolveRequestArray(contextInfo, this.context, useLoadersPost, loaderResolver, resolveContext, (err, result) => {\n          postLoaders = result;\n          continueCallback(err);\n        });\n        this.resolveRequestArray(contextInfo, this.context, useLoaders, loaderResolver, resolveContext, (err, result) => {\n          normalLoaders = result;\n          continueCallback(err);\n        });\n        this.resolveRequestArray(contextInfo, this.context, useLoadersPre, loaderResolver, resolveContext, (err, result) => {\n          preLoaders = result;\n          continueCallback(err);\n        });\n      });\n      this.resolveRequestArray(contextInfo, contextScheme ? this.context : context, /** @type {LoaderItem[]} */elements, loaderResolver, resolveContext, (err, result) => {\n        if (err) return continueCallback(err);\n        loaders = result;\n        continueCallback();\n      });\n\n      /**\n       * @param {string} context context\n       */\n      const defaultResolve = context => {\n        if (/^($|\\?)/.test(unresolvedResource)) {\n          resourceData = {\n            resource: unresolvedResource,\n            data: {},\n            ...cacheParseResource(unresolvedResource)\n          };\n          continueCallback();\n        }\n\n        // resource without scheme and with path\n        else {\n          const normalResolver = this.getResolver(\"normal\", dependencyType ? cachedSetProperty(resolveOptions || EMPTY_RESOLVE_OPTIONS, \"dependencyType\", dependencyType) : resolveOptions);\n          this.resolveResource(contextInfo, context, unresolvedResource, normalResolver, resolveContext, (err, _resolvedResource, resolvedResourceResolveData) => {\n            if (err) return continueCallback(err);\n            if (_resolvedResource !== false) {\n              const resolvedResource = /** @type {string} */\n              _resolvedResource;\n              resourceData = {\n                resource: resolvedResource,\n                data: (/** @type {ResolveRequest} */\n                resolvedResourceResolveData),\n                ...cacheParseResource(resolvedResource)\n              };\n            }\n            continueCallback();\n          });\n        }\n      };\n\n      // resource with scheme\n      if (scheme) {\n        resourceData = {\n          resource: unresolvedResource,\n          data: {},\n          path: undefined,\n          query: undefined,\n          fragment: undefined,\n          context: undefined\n        };\n        this.hooks.resolveForScheme.for(scheme).callAsync(resourceData, data, err => {\n          if (err) return continueCallback(err);\n          continueCallback();\n        });\n      }\n\n      // resource within scheme\n      else if (contextScheme) {\n        resourceData = {\n          resource: unresolvedResource,\n          data: {},\n          path: undefined,\n          query: undefined,\n          fragment: undefined,\n          context: undefined\n        };\n        this.hooks.resolveInScheme.for(contextScheme).callAsync(resourceData, data, (err, handled) => {\n          if (err) return continueCallback(err);\n          if (!handled) return defaultResolve(this.context);\n          continueCallback();\n        });\n      }\n\n      // resource without scheme and without path\n      else defaultResolve(context);\n    });\n  }\n  cleanupForCache() {\n    for (const module of this._restoredUnsafeCacheEntries) {\n      ChunkGraph.clearChunkGraphForModule(module);\n      ModuleGraph.clearModuleGraphForModule(module);\n      module.cleanupForCache();\n    }\n  }\n\n  /**\n   * @param {ModuleFactoryCreateData} data data object\n   * @param {function((Error | null)=, ModuleFactoryResult=): void} callback callback\n   * @returns {void}\n   */\n  create(data, callback) {\n    const dependencies = /** @type {ModuleDependency[]} */data.dependencies;\n    const context = data.context || this.context;\n    const resolveOptions = data.resolveOptions || EMPTY_RESOLVE_OPTIONS;\n    const dependency = dependencies[0];\n    const request = dependency.request;\n    const assertions = dependency.assertions;\n    const contextInfo = data.contextInfo;\n    const fileDependencies = new LazySet();\n    const missingDependencies = new LazySet();\n    const contextDependencies = new LazySet();\n    const dependencyType = dependencies.length > 0 && dependencies[0].category || \"\";\n    /** @type {ResolveData} */\n    const resolveData = {\n      contextInfo,\n      resolveOptions,\n      context,\n      request,\n      assertions,\n      dependencies,\n      dependencyType,\n      fileDependencies,\n      missingDependencies,\n      contextDependencies,\n      createData: {},\n      cacheable: true\n    };\n    this.hooks.beforeResolve.callAsync(resolveData, (err, result) => {\n      if (err) {\n        return callback(err, {\n          fileDependencies,\n          missingDependencies,\n          contextDependencies,\n          cacheable: false\n        });\n      }\n\n      // Ignored\n      if (result === false) {\n        return callback(null, {\n          fileDependencies,\n          missingDependencies,\n          contextDependencies,\n          cacheable: resolveData.cacheable\n        });\n      }\n      if (typeof result === \"object\") throw new Error(deprecationChangedHookMessage(\"beforeResolve\", this.hooks.beforeResolve));\n      this.hooks.factorize.callAsync(resolveData, (err, module) => {\n        if (err) {\n          return callback(err, {\n            fileDependencies,\n            missingDependencies,\n            contextDependencies,\n            cacheable: false\n          });\n        }\n        const factoryResult = {\n          module,\n          fileDependencies,\n          missingDependencies,\n          contextDependencies,\n          cacheable: resolveData.cacheable\n        };\n        callback(null, factoryResult);\n      });\n    });\n  }\n\n  /**\n   * @param {ModuleFactoryCreateDataContextInfo} contextInfo context info\n   * @param {string} context context\n   * @param {string} unresolvedResource unresolved resource\n   * @param {ResolverWithOptions} resolver resolver\n   * @param {ResolveContext} resolveContext resolver context\n   * @param {(err: null | Error, res?: string | false, req?: ResolveRequest) => void} callback callback\n   */\n  resolveResource(contextInfo, context, unresolvedResource, resolver, resolveContext, callback) {\n    resolver.resolve(contextInfo, context, unresolvedResource, resolveContext, (err, resolvedResource, resolvedResourceResolveData) => {\n      if (err) {\n        return this._resolveResourceErrorHints(err, contextInfo, context, unresolvedResource, resolver, resolveContext, (err2, hints) => {\n          if (err2) {\n            err.message += `\nA fatal error happened during resolving additional hints for this error: ${err2.message}`;\n            err.stack += `\n\nA fatal error happened during resolving additional hints for this error:\n${err2.stack}`;\n            return callback(err);\n          }\n          if (hints && hints.length > 0) {\n            err.message += `\n${hints.join(\"\\n\\n\")}`;\n          }\n\n          // Check if the extension is missing a leading dot (e.g. \"js\" instead of \".js\")\n          let appendResolveExtensionsHint = false;\n          const specifiedExtensions = Array.from(resolver.options.extensions);\n          const expectedExtensions = specifiedExtensions.map(extension => {\n            if (LEADING_DOT_EXTENSION_REGEX.test(extension)) {\n              appendResolveExtensionsHint = true;\n              return `.${extension}`;\n            }\n            return extension;\n          });\n          if (appendResolveExtensionsHint) {\n            err.message += `\\nDid you miss the leading dot in 'resolve.extensions'? Did you mean '${JSON.stringify(expectedExtensions)}' instead of '${JSON.stringify(specifiedExtensions)}'?`;\n          }\n          callback(err);\n        });\n      }\n      callback(err, resolvedResource, resolvedResourceResolveData);\n    });\n  }\n\n  /**\n   * @param {Error} error error\n   * @param {ModuleFactoryCreateDataContextInfo} contextInfo context info\n   * @param {string} context context\n   * @param {string} unresolvedResource unresolved resource\n   * @param {ResolverWithOptions} resolver resolver\n   * @param {ResolveContext} resolveContext resolver context\n   * @param {Callback<string[]>} callback callback\n   * @private\n   */\n  _resolveResourceErrorHints(error, contextInfo, context, unresolvedResource, resolver, resolveContext, callback) {\n    asyncLib.parallel([callback => {\n      if (!resolver.options.fullySpecified) return callback();\n      resolver.withOptions({\n        fullySpecified: false\n      }).resolve(contextInfo, context, unresolvedResource, resolveContext, (err, resolvedResource) => {\n        if (!err && resolvedResource) {\n          const resource = parseResource(resolvedResource).path.replace(/^.*[\\\\/]/, \"\");\n          return callback(null, `Did you mean '${resource}'?\nBREAKING CHANGE: The request '${unresolvedResource}' failed to resolve only because it was resolved as fully specified\n(probably because the origin is strict EcmaScript Module, e. g. a module with javascript mimetype, a '*.mjs' file, or a '*.js' file where the package.json contains '\"type\": \"module\"').\nThe extension in the request is mandatory for it to be fully specified.\nAdd the extension to the request.`);\n        }\n        callback();\n      });\n    }, callback => {\n      if (!resolver.options.enforceExtension) return callback();\n      resolver.withOptions({\n        enforceExtension: false,\n        extensions: []\n      }).resolve(contextInfo, context, unresolvedResource, resolveContext, (err, resolvedResource) => {\n        if (!err && resolvedResource) {\n          let hint = \"\";\n          const match = /(\\.[^.]+)(\\?|$)/.exec(unresolvedResource);\n          if (match) {\n            const fixedRequest = unresolvedResource.replace(/(\\.[^.]+)(\\?|$)/, \"$2\");\n            hint = resolver.options.extensions.has(match[1]) ? `Did you mean '${fixedRequest}'?` : `Did you mean '${fixedRequest}'? Also note that '${match[1]}' is not in 'resolve.extensions' yet and need to be added for this to work?`;\n          } else {\n            hint = \"Did you mean to omit the extension or to remove 'resolve.enforceExtension'?\";\n          }\n          return callback(null, `The request '${unresolvedResource}' failed to resolve only because 'resolve.enforceExtension' was specified.\n${hint}\nIncluding the extension in the request is no longer possible. Did you mean to enforce including the extension in requests with 'resolve.extensions: []' instead?`);\n        }\n        callback();\n      });\n    }, callback => {\n      if (/^\\.\\.?\\//.test(unresolvedResource) || resolver.options.preferRelative) {\n        return callback();\n      }\n      resolver.resolve(contextInfo, context, `./${unresolvedResource}`, resolveContext, (err, resolvedResource) => {\n        if (err || !resolvedResource) return callback();\n        const moduleDirectories = resolver.options.modules.map(m => Array.isArray(m) ? m.join(\", \") : m).join(\", \");\n        callback(null, `Did you mean './${unresolvedResource}'?\nRequests that should resolve in the current directory need to start with './'.\nRequests that start with a name are treated as module requests and resolve within module directories (${moduleDirectories}).\nIf changing the source code is not an option there is also a resolve options called 'preferRelative' which tries to resolve these kind of requests in the current directory too.`);\n      });\n    }], (err, hints) => {\n      if (err) return callback(err);\n      callback(null, /** @type {string[]} */hints.filter(Boolean));\n    });\n  }\n\n  /**\n   * @param {ModuleFactoryCreateDataContextInfo} contextInfo context info\n   * @param {string} context context\n   * @param {LoaderItem[]} array array\n   * @param {ResolverWithOptions} resolver resolver\n   * @param {ResolveContext} resolveContext resolve context\n   * @param {Callback<LoaderItem[]>} callback callback\n   * @returns {void} result\n   */\n  resolveRequestArray(contextInfo, context, array, resolver, resolveContext, callback) {\n    // LoaderItem\n    if (array.length === 0) return callback(null, array);\n    asyncLib.map(array, (item, callback) => {\n      resolver.resolve(contextInfo, context, item.loader, resolveContext, (err, result, resolveRequest) => {\n        if (err && /^[^/]*$/.test(item.loader) && !item.loader.endsWith(\"-loader\")) {\n          return resolver.resolve(contextInfo, context, `${item.loader}-loader`, resolveContext, err2 => {\n            if (!err2) {\n              err.message = `${err.message}\\n` + \"BREAKING CHANGE: It's no longer allowed to omit the '-loader' suffix when using loaders.\\n\" + `                 You need to specify '${item.loader}-loader' instead of '${item.loader}',\\n` + \"                 see https://webpack.js.org/migrate/3/#automatic-loader-module-name-extension-removed\";\n            }\n            callback(err);\n          });\n        }\n        if (err) return callback(err);\n        const parsedResult = this._parseResourceWithoutFragment(/** @type {string} */result);\n        const type = /\\.mjs$/i.test(parsedResult.path) ? \"module\" : /\\.cjs$/i.test(parsedResult.path) ? \"commonjs\" : /** @type {ResolveRequest} */\n        resolveRequest.descriptionFileData === undefined ? undefined : /** @type {ResolveRequest} */\n        resolveRequest.descriptionFileData.type;\n        const resolved = {\n          loader: parsedResult.path,\n          type,\n          options: item.options === undefined ? parsedResult.query ? parsedResult.query.slice(1) : undefined : item.options,\n          ident: item.options === undefined ? undefined : (/** @type {string} */item.ident)\n        };\n        return callback(null, /** @type {LoaderItem} */resolved);\n      });\n    }, /** @type {Callback<TODO>} */callback);\n  }\n\n  /**\n   * @param {string} type type\n   * @param {ParserOptions} parserOptions parser options\n   * @returns {Parser} parser\n   */\n  getParser(type, parserOptions = EMPTY_PARSER_OPTIONS) {\n    let cache = this.parserCache.get(type);\n    if (cache === undefined) {\n      cache = new WeakMap();\n      this.parserCache.set(type, cache);\n    }\n    let parser = cache.get(parserOptions);\n    if (parser === undefined) {\n      parser = this.createParser(type, parserOptions);\n      cache.set(parserOptions, parser);\n    }\n    return parser;\n  }\n\n  /**\n   * @param {string} type type\n   * @param {ParserOptions} parserOptions parser options\n   * @returns {Parser} parser\n   */\n  createParser(type, parserOptions = {}) {\n    parserOptions = mergeGlobalOptions(this._globalParserOptions, type, parserOptions);\n    const parser = this.hooks.createParser.for(type).call(parserOptions);\n    if (!parser) {\n      throw new Error(`No parser registered for ${type}`);\n    }\n    this.hooks.parser.for(type).call(parser, parserOptions);\n    return parser;\n  }\n\n  /**\n   * @param {string} type type of generator\n   * @param {GeneratorOptions} generatorOptions generator options\n   * @returns {Generator} generator\n   */\n  getGenerator(type, generatorOptions = EMPTY_GENERATOR_OPTIONS) {\n    let cache = this.generatorCache.get(type);\n    if (cache === undefined) {\n      cache = new WeakMap();\n      this.generatorCache.set(type, cache);\n    }\n    let generator = cache.get(generatorOptions);\n    if (generator === undefined) {\n      generator = this.createGenerator(type, generatorOptions);\n      cache.set(generatorOptions, generator);\n    }\n    return generator;\n  }\n\n  /**\n   * @param {string} type type of generator\n   * @param {GeneratorOptions} generatorOptions generator options\n   * @returns {Generator} generator\n   */\n  createGenerator(type, generatorOptions = {}) {\n    generatorOptions = mergeGlobalOptions(this._globalGeneratorOptions, type, generatorOptions);\n    const generator = this.hooks.createGenerator.for(type).call(generatorOptions);\n    if (!generator) {\n      throw new Error(`No generator registered for ${type}`);\n    }\n    this.hooks.generator.for(type).call(generator, generatorOptions);\n    return generator;\n  }\n\n  /**\n   * @param {Parameters<ResolverFactory[\"get\"]>[0]} type type of resolver\n   * @param {Parameters<ResolverFactory[\"get\"]>[1]=} resolveOptions options\n   * @returns {ReturnType<ResolverFactory[\"get\"]>} the resolver\n   */\n  getResolver(type, resolveOptions) {\n    return this.resolverFactory.get(type, resolveOptions);\n  }\n}\nmodule.exports = NormalModuleFactory;","map":{"version":3,"names":["getContext","require","asyncLib","AsyncSeriesBailHook","SyncWaterfallHook","SyncBailHook","SyncHook","HookMap","ChunkGraph","Module","ModuleFactory","ModuleGraph","JAVASCRIPT_MODULE_TYPE_AUTO","NormalModule","BasicEffectRulePlugin","BasicMatcherRulePlugin","ObjectMatcherRulePlugin","RuleSetCompiler","UseEffectRulePlugin","LazySet","getScheme","cachedCleverMerge","cachedSetProperty","join","parseResource","parseResourceWithoutFragment","EMPTY_RESOLVE_OPTIONS","EMPTY_PARSER_OPTIONS","EMPTY_GENERATOR_OPTIONS","EMPTY_ELEMENTS","MATCH_RESOURCE_REGEX","LEADING_DOT_EXTENSION_REGEX","loaderToIdent","data","options","loader","Error","ident","JSON","stringify","stringifyLoadersAndResource","loaders","resource","str","needCalls","times","callback","err","Number","NaN","mergeGlobalOptions","globalOptions","type","localOptions","parts","split","result","current","part","undefined","deprecationChangedHookMessage","name","hook","names","taps","map","tapped","ruleSetCompiler","value","_isLegacyAssert","NormalModuleFactory","constructor","context","fs","resolverFactory","associatedObjectForCache","layers","hooks","Object","freeze","resolve","resolveForScheme","resolveInScheme","factorize","beforeResolve","afterResolve","createModule","module","createParser","parser","createGenerator","generator","createModuleClass","ruleSet","compile","rules","defaultRules","_globalParserOptions","_globalGeneratorOptions","parserCache","Map","generatorCache","_restoredUnsafeCacheEntries","Set","cacheParseResource","bindCache","cachedParseResourceWithoutFragment","_parseResourceWithoutFragment","tapAsync","stage","resolveData","callAsync","createData","createdModule","request","for","settings","call","contextInfo","dependencies","dependencyType","assertions","resolveOptions","fileDependencies","missingDependencies","contextDependencies","loaderResolver","getResolver","matchResourceData","unresolvedResource","elements","noPreAutoLoaders","noAutoLoaders","noPrePostAutoLoaders","contextScheme","scheme","requestWithoutMatchResource","matchResourceMatch","exec","matchResource","charCodeAt","secondChar","slice","length","firstChar","rawElements","pop","el","path","query","resolveContext","resourceData","continueCallback","item","references","get","identErr","createIgnoredModule","userRequest","useLoadersPost","useLoaders","useLoadersPre","match","resourceDataForRules","realResource","resourceQuery","resourceFragment","fragment","mimetype","dependency","descriptionData","descriptionFileData","issuer","compiler","issuerLayer","r","push","postLoaders","normalLoaders","preLoaders","allLoaders","layer","assign","rawRequest","resourceResolveData","getParser","parserOptions","getGenerator","generatorOptions","createDataErr","resolveRequestArray","defaultResolve","test","normalResolver","resolveResource","_resolvedResource","resolvedResourceResolveData","resolvedResource","handled","cleanupForCache","clearChunkGraphForModule","clearModuleGraphForModule","create","category","cacheable","factoryResult","resolver","_resolveResourceErrorHints","err2","hints","message","stack","appendResolveExtensionsHint","specifiedExtensions","Array","from","extensions","expectedExtensions","extension","error","parallel","fullySpecified","withOptions","replace","enforceExtension","hint","fixedRequest","has","preferRelative","moduleDirectories","modules","m","isArray","filter","Boolean","array","resolveRequest","endsWith","parsedResult","resolved","cache","WeakMap","set","exports"],"sources":["C:/Users/james/Downloads/Mellowdies/mellowdies/node_modules/webpack/lib/NormalModuleFactory.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { getContext } = require(\"loader-runner\");\nconst asyncLib = require(\"neo-async\");\nconst {\n\tAsyncSeriesBailHook,\n\tSyncWaterfallHook,\n\tSyncBailHook,\n\tSyncHook,\n\tHookMap\n} = require(\"tapable\");\nconst ChunkGraph = require(\"./ChunkGraph\");\nconst Module = require(\"./Module\");\nconst ModuleFactory = require(\"./ModuleFactory\");\nconst ModuleGraph = require(\"./ModuleGraph\");\nconst { JAVASCRIPT_MODULE_TYPE_AUTO } = require(\"./ModuleTypeConstants\");\nconst NormalModule = require(\"./NormalModule\");\nconst BasicEffectRulePlugin = require(\"./rules/BasicEffectRulePlugin\");\nconst BasicMatcherRulePlugin = require(\"./rules/BasicMatcherRulePlugin\");\nconst ObjectMatcherRulePlugin = require(\"./rules/ObjectMatcherRulePlugin\");\nconst RuleSetCompiler = require(\"./rules/RuleSetCompiler\");\nconst UseEffectRulePlugin = require(\"./rules/UseEffectRulePlugin\");\nconst LazySet = require(\"./util/LazySet\");\nconst { getScheme } = require(\"./util/URLAbsoluteSpecifier\");\nconst { cachedCleverMerge, cachedSetProperty } = require(\"./util/cleverMerge\");\nconst { join } = require(\"./util/fs\");\nconst {\n\tparseResource,\n\tparseResourceWithoutFragment\n} = require(\"./util/identifier\");\n\n/** @typedef {import(\"../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n/** @typedef {import(\"../declarations/WebpackOptions\").RuleSetRule} RuleSetRule */\n/** @typedef {import(\"./Generator\")} Generator */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryCreateData} ModuleFactoryCreateData */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryCreateDataContextInfo} ModuleFactoryCreateDataContextInfo */\n/** @typedef {import(\"./ModuleFactory\").ModuleFactoryResult} ModuleFactoryResult */\n/** @typedef {import(\"./NormalModule\").GeneratorOptions} GeneratorOptions */\n/** @typedef {import(\"./NormalModule\").LoaderItem} LoaderItem */\n/** @typedef {import(\"./NormalModule\").NormalModuleCreateData} NormalModuleCreateData */\n/** @typedef {import(\"./NormalModule\").ParserOptions} ParserOptions */\n/** @typedef {import(\"./Parser\")} Parser */\n/** @typedef {import(\"./ResolverFactory\")} ResolverFactory */\n/** @typedef {import(\"./ResolverFactory\").ResolveContext} ResolveContext */\n/** @typedef {import(\"./ResolverFactory\").ResolveRequest} ResolveRequest */\n/** @typedef {import(\"./ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"./dependencies/ModuleDependency\")} ModuleDependency */\n/** @typedef {import(\"./util/fs\").InputFileSystem} InputFileSystem */\n\n/** @typedef {Pick<RuleSetRule, 'type'|'sideEffects'|'parser'|'generator'|'resolve'|'layer'>} ModuleSettings */\n/** @typedef {Partial<NormalModuleCreateData & {settings: ModuleSettings}>} CreateData */\n\n/**\n * @typedef {object} ResolveData\n * @property {ModuleFactoryCreateData[\"contextInfo\"]} contextInfo\n * @property {ModuleFactoryCreateData[\"resolveOptions\"]} resolveOptions\n * @property {string} context\n * @property {string} request\n * @property {Record<string, any> | undefined} assertions\n * @property {ModuleDependency[]} dependencies\n * @property {string} dependencyType\n * @property {CreateData} createData\n * @property {LazySet<string>} fileDependencies\n * @property {LazySet<string>} missingDependencies\n * @property {LazySet<string>} contextDependencies\n * @property {boolean} cacheable allow to use the unsafe cache\n */\n\n/**\n * @typedef {object} ResourceData\n * @property {string} resource\n * @property {string=} path\n * @property {string=} query\n * @property {string=} fragment\n * @property {string=} context\n */\n\n/** @typedef {ResourceData & { data: Record<string, any> }} ResourceDataWithData */\n\n/**\n * @typedef {object} ParsedLoaderRequest\n * @property {string} loader loader\n * @property {string|undefined} options options\n */\n\n/**\n * @template T\n * @callback Callback\n * @param {(Error | null)=} err\n * @param {T=} stats\n * @returns {void}\n */\n\nconst EMPTY_RESOLVE_OPTIONS = {};\n/** @type {ParserOptions} */\nconst EMPTY_PARSER_OPTIONS = {};\n/** @type {GeneratorOptions} */\nconst EMPTY_GENERATOR_OPTIONS = {};\n/** @type {ParsedLoaderRequest[]} */\nconst EMPTY_ELEMENTS = [];\n\nconst MATCH_RESOURCE_REGEX = /^([^!]+)!=!/;\nconst LEADING_DOT_EXTENSION_REGEX = /^[^.]/;\n\n/**\n * @param {LoaderItem} data data\n * @returns {string} ident\n */\nconst loaderToIdent = data => {\n\tif (!data.options) {\n\t\treturn data.loader;\n\t}\n\tif (typeof data.options === \"string\") {\n\t\treturn `${data.loader}?${data.options}`;\n\t}\n\tif (typeof data.options !== \"object\") {\n\t\tthrow new Error(\"loader options must be string or object\");\n\t}\n\tif (data.ident) {\n\t\treturn `${data.loader}??${data.ident}`;\n\t}\n\treturn `${data.loader}?${JSON.stringify(data.options)}`;\n};\n\n/**\n * @param {LoaderItem[]} loaders loaders\n * @param {string} resource resource\n * @returns {string} stringified loaders and resource\n */\nconst stringifyLoadersAndResource = (loaders, resource) => {\n\tlet str = \"\";\n\tfor (const loader of loaders) {\n\t\tstr += `${loaderToIdent(loader)}!`;\n\t}\n\treturn str + resource;\n};\n\n/**\n * @param {number} times times\n * @param {(err?: null | Error) => void} callback callback\n * @returns {(err?: null | Error) => void} callback\n */\nconst needCalls = (times, callback) => err => {\n\tif (--times === 0) {\n\t\treturn callback(err);\n\t}\n\tif (err && times > 0) {\n\t\ttimes = Number.NaN;\n\t\treturn callback(err);\n\t}\n};\n\n/**\n * @template T\n * @template O\n * @param {T} globalOptions global options\n * @param {string} type type\n * @param {O} localOptions local options\n * @returns {T & O | T | O} result\n */\nconst mergeGlobalOptions = (globalOptions, type, localOptions) => {\n\tconst parts = type.split(\"/\");\n\tlet result;\n\tlet current = \"\";\n\tfor (const part of parts) {\n\t\tcurrent = current ? `${current}/${part}` : part;\n\t\tconst options = globalOptions[current];\n\t\tif (typeof options === \"object\") {\n\t\t\tresult =\n\t\t\t\tresult === undefined ? options : cachedCleverMerge(result, options);\n\t\t}\n\t}\n\tif (result === undefined) {\n\t\treturn localOptions;\n\t}\n\treturn cachedCleverMerge(result, localOptions);\n};\n\n// TODO webpack 6 remove\n/**\n * @param {string} name name\n * @param {TODO} hook hook\n * @returns {string} result\n */\nconst deprecationChangedHookMessage = (name, hook) => {\n\tconst names = hook.taps\n\t\t.map(\n\t\t\t/**\n\t\t\t * @param {TODO} tapped tapped\n\t\t\t * @returns {string} name\n\t\t\t */\n\t\t\ttapped => tapped.name\n\t\t)\n\t\t.join(\", \");\n\n\treturn (\n\t\t`NormalModuleFactory.${name} (${names}) is no longer a waterfall hook, but a bailing hook instead. ` +\n\t\t\"Do not return the passed object, but modify it instead. \" +\n\t\t\"Returning false will ignore the request and results in no module created.\"\n\t);\n};\n\nconst ruleSetCompiler = new RuleSetCompiler([\n\tnew BasicMatcherRulePlugin(\"test\", \"resource\"),\n\tnew BasicMatcherRulePlugin(\"scheme\"),\n\tnew BasicMatcherRulePlugin(\"mimetype\"),\n\tnew BasicMatcherRulePlugin(\"dependency\"),\n\tnew BasicMatcherRulePlugin(\"include\", \"resource\"),\n\tnew BasicMatcherRulePlugin(\"exclude\", \"resource\", true),\n\tnew BasicMatcherRulePlugin(\"resource\"),\n\tnew BasicMatcherRulePlugin(\"resourceQuery\"),\n\tnew BasicMatcherRulePlugin(\"resourceFragment\"),\n\tnew BasicMatcherRulePlugin(\"realResource\"),\n\tnew BasicMatcherRulePlugin(\"issuer\"),\n\tnew BasicMatcherRulePlugin(\"compiler\"),\n\tnew BasicMatcherRulePlugin(\"issuerLayer\"),\n\tnew ObjectMatcherRulePlugin(\n\t\t\"assert\",\n\t\t\"assertions\",\n\t\tvalue => value && /** @type {any} */ (value)._isLegacyAssert !== undefined\n\t),\n\tnew ObjectMatcherRulePlugin(\n\t\t\"with\",\n\t\t\"assertions\",\n\t\tvalue => value && !(/** @type {any} */ (value)._isLegacyAssert)\n\t),\n\tnew ObjectMatcherRulePlugin(\"descriptionData\"),\n\tnew BasicEffectRulePlugin(\"type\"),\n\tnew BasicEffectRulePlugin(\"sideEffects\"),\n\tnew BasicEffectRulePlugin(\"parser\"),\n\tnew BasicEffectRulePlugin(\"resolve\"),\n\tnew BasicEffectRulePlugin(\"generator\"),\n\tnew BasicEffectRulePlugin(\"layer\"),\n\tnew UseEffectRulePlugin()\n]);\n\nclass NormalModuleFactory extends ModuleFactory {\n\t/**\n\t * @param {object} param params\n\t * @param {string=} param.context context\n\t * @param {InputFileSystem} param.fs file system\n\t * @param {ResolverFactory} param.resolverFactory resolverFactory\n\t * @param {ModuleOptions} param.options options\n\t * @param {object=} param.associatedObjectForCache an object to which the cache will be attached\n\t * @param {boolean=} param.layers enable layers\n\t */\n\tconstructor({\n\t\tcontext,\n\t\tfs,\n\t\tresolverFactory,\n\t\toptions,\n\t\tassociatedObjectForCache,\n\t\tlayers = false\n\t}) {\n\t\tsuper();\n\t\tthis.hooks = Object.freeze({\n\t\t\t/** @type {AsyncSeriesBailHook<[ResolveData], Module | false | void>} */\n\t\t\tresolve: new AsyncSeriesBailHook([\"resolveData\"]),\n\t\t\t/** @type {HookMap<AsyncSeriesBailHook<[ResourceDataWithData, ResolveData], true | void>>} */\n\t\t\tresolveForScheme: new HookMap(\n\t\t\t\t() => new AsyncSeriesBailHook([\"resourceData\", \"resolveData\"])\n\t\t\t),\n\t\t\t/** @type {HookMap<AsyncSeriesBailHook<[ResourceDataWithData, ResolveData], true | void>>} */\n\t\t\tresolveInScheme: new HookMap(\n\t\t\t\t() => new AsyncSeriesBailHook([\"resourceData\", \"resolveData\"])\n\t\t\t),\n\t\t\t/** @type {AsyncSeriesBailHook<[ResolveData], Module | undefined>} */\n\t\t\tfactorize: new AsyncSeriesBailHook([\"resolveData\"]),\n\t\t\t/** @type {AsyncSeriesBailHook<[ResolveData], false | void>} */\n\t\t\tbeforeResolve: new AsyncSeriesBailHook([\"resolveData\"]),\n\t\t\t/** @type {AsyncSeriesBailHook<[ResolveData], false | void>} */\n\t\t\tafterResolve: new AsyncSeriesBailHook([\"resolveData\"]),\n\t\t\t/** @type {AsyncSeriesBailHook<[ResolveData[\"createData\"], ResolveData], Module | void>} */\n\t\t\tcreateModule: new AsyncSeriesBailHook([\"createData\", \"resolveData\"]),\n\t\t\t/** @type {SyncWaterfallHook<[Module, ResolveData[\"createData\"], ResolveData], Module>} */\n\t\t\tmodule: new SyncWaterfallHook([\"module\", \"createData\", \"resolveData\"]),\n\t\t\t/** @type {HookMap<SyncBailHook<[ParserOptions], Parser>>} */\n\t\t\tcreateParser: new HookMap(() => new SyncBailHook([\"parserOptions\"])),\n\t\t\t/** @type {HookMap<SyncBailHook<[TODO, ParserOptions], void>>} */\n\t\t\tparser: new HookMap(() => new SyncHook([\"parser\", \"parserOptions\"])),\n\t\t\t/** @type {HookMap<SyncBailHook<[GeneratorOptions], Generator>>} */\n\t\t\tcreateGenerator: new HookMap(\n\t\t\t\t() => new SyncBailHook([\"generatorOptions\"])\n\t\t\t),\n\t\t\t/** @type {HookMap<SyncBailHook<[TODO, GeneratorOptions], void>>} */\n\t\t\tgenerator: new HookMap(\n\t\t\t\t() => new SyncHook([\"generator\", \"generatorOptions\"])\n\t\t\t),\n\t\t\t/** @type {HookMap<SyncBailHook<[TODO, ResolveData], Module>>} */\n\t\t\tcreateModuleClass: new HookMap(\n\t\t\t\t() => new SyncBailHook([\"createData\", \"resolveData\"])\n\t\t\t)\n\t\t});\n\t\tthis.resolverFactory = resolverFactory;\n\t\tthis.ruleSet = ruleSetCompiler.compile([\n\t\t\t{\n\t\t\t\trules: options.defaultRules\n\t\t\t},\n\t\t\t{\n\t\t\t\trules: options.rules\n\t\t\t}\n\t\t]);\n\t\tthis.context = context || \"\";\n\t\tthis.fs = fs;\n\t\tthis._globalParserOptions = options.parser;\n\t\tthis._globalGeneratorOptions = options.generator;\n\t\t/** @type {Map<string, WeakMap<object, Parser>>} */\n\t\tthis.parserCache = new Map();\n\t\t/** @type {Map<string, WeakMap<object, Generator>>} */\n\t\tthis.generatorCache = new Map();\n\t\t/** @type {Set<Module>} */\n\t\tthis._restoredUnsafeCacheEntries = new Set();\n\n\t\tconst cacheParseResource = parseResource.bindCache(\n\t\t\tassociatedObjectForCache\n\t\t);\n\t\tconst cachedParseResourceWithoutFragment =\n\t\t\tparseResourceWithoutFragment.bindCache(associatedObjectForCache);\n\t\tthis._parseResourceWithoutFragment = cachedParseResourceWithoutFragment;\n\n\t\tthis.hooks.factorize.tapAsync(\n\t\t\t{\n\t\t\t\tname: \"NormalModuleFactory\",\n\t\t\t\tstage: 100\n\t\t\t},\n\t\t\t(resolveData, callback) => {\n\t\t\t\tthis.hooks.resolve.callAsync(resolveData, (err, result) => {\n\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t// Ignored\n\t\t\t\t\tif (result === false) return callback();\n\n\t\t\t\t\t// direct module\n\t\t\t\t\tif (result instanceof Module) return callback(null, result);\n\n\t\t\t\t\tif (typeof result === \"object\")\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`${deprecationChangedHookMessage(\n\t\t\t\t\t\t\t\t\"resolve\",\n\t\t\t\t\t\t\t\tthis.hooks.resolve\n\t\t\t\t\t\t\t)} Returning a Module object will result in this module used as result.`\n\t\t\t\t\t\t);\n\n\t\t\t\t\tthis.hooks.afterResolve.callAsync(resolveData, (err, result) => {\n\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\tif (typeof result === \"object\")\n\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\tdeprecationChangedHookMessage(\n\t\t\t\t\t\t\t\t\t\"afterResolve\",\n\t\t\t\t\t\t\t\t\tthis.hooks.afterResolve\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Ignored\n\t\t\t\t\t\tif (result === false) return callback();\n\n\t\t\t\t\t\tconst createData = resolveData.createData;\n\n\t\t\t\t\t\tthis.hooks.createModule.callAsync(\n\t\t\t\t\t\t\tcreateData,\n\t\t\t\t\t\t\tresolveData,\n\t\t\t\t\t\t\t(err, createdModule) => {\n\t\t\t\t\t\t\t\tif (!createdModule) {\n\t\t\t\t\t\t\t\t\tif (!resolveData.request) {\n\t\t\t\t\t\t\t\t\t\treturn callback(new Error(\"Empty dependency (no request)\"));\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// TODO webpack 6 make it required and move javascript/wasm/asset properties to own module\n\t\t\t\t\t\t\t\t\tcreatedModule = this.hooks.createModuleClass\n\t\t\t\t\t\t\t\t\t\t.for(\n\t\t\t\t\t\t\t\t\t\t\t/** @type {ModuleSettings} */ (createData.settings).type\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t.call(createData, resolveData);\n\n\t\t\t\t\t\t\t\t\tif (!createdModule) {\n\t\t\t\t\t\t\t\t\t\tcreatedModule = /** @type {Module} */ (\n\t\t\t\t\t\t\t\t\t\t\tnew NormalModule(\n\t\t\t\t\t\t\t\t\t\t\t\t/** @type {NormalModuleCreateData} */ (createData)\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcreatedModule = this.hooks.module.call(\n\t\t\t\t\t\t\t\t\tcreatedModule,\n\t\t\t\t\t\t\t\t\tcreateData,\n\t\t\t\t\t\t\t\t\tresolveData\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\treturn callback(null, createdModule);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t\tthis.hooks.resolve.tapAsync(\n\t\t\t{\n\t\t\t\tname: \"NormalModuleFactory\",\n\t\t\t\tstage: 100\n\t\t\t},\n\t\t\t(data, callback) => {\n\t\t\t\tconst {\n\t\t\t\t\tcontextInfo,\n\t\t\t\t\tcontext,\n\t\t\t\t\tdependencies,\n\t\t\t\t\tdependencyType,\n\t\t\t\t\trequest,\n\t\t\t\t\tassertions,\n\t\t\t\t\tresolveOptions,\n\t\t\t\t\tfileDependencies,\n\t\t\t\t\tmissingDependencies,\n\t\t\t\t\tcontextDependencies\n\t\t\t\t} = data;\n\t\t\t\tconst loaderResolver = this.getResolver(\"loader\");\n\n\t\t\t\t/** @type {ResourceData | undefined} */\n\t\t\t\tlet matchResourceData;\n\t\t\t\t/** @type {string} */\n\t\t\t\tlet unresolvedResource;\n\t\t\t\t/** @type {ParsedLoaderRequest[]} */\n\t\t\t\tlet elements;\n\t\t\t\tlet noPreAutoLoaders = false;\n\t\t\t\tlet noAutoLoaders = false;\n\t\t\t\tlet noPrePostAutoLoaders = false;\n\n\t\t\t\tconst contextScheme = getScheme(context);\n\t\t\t\t/** @type {string | undefined} */\n\t\t\t\tlet scheme = getScheme(request);\n\n\t\t\t\tif (!scheme) {\n\t\t\t\t\t/** @type {string} */\n\t\t\t\t\tlet requestWithoutMatchResource = request;\n\t\t\t\t\tconst matchResourceMatch = MATCH_RESOURCE_REGEX.exec(request);\n\t\t\t\t\tif (matchResourceMatch) {\n\t\t\t\t\t\tlet matchResource = matchResourceMatch[1];\n\t\t\t\t\t\tif (matchResource.charCodeAt(0) === 46) {\n\t\t\t\t\t\t\t// 46 === \".\", 47 === \"/\"\n\t\t\t\t\t\t\tconst secondChar = matchResource.charCodeAt(1);\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tsecondChar === 47 ||\n\t\t\t\t\t\t\t\t(secondChar === 46 && matchResource.charCodeAt(2) === 47)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t// if matchResources startsWith ../ or ./\n\t\t\t\t\t\t\t\tmatchResource = join(this.fs, context, matchResource);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatchResourceData = {\n\t\t\t\t\t\t\tresource: matchResource,\n\t\t\t\t\t\t\t...cacheParseResource(matchResource)\n\t\t\t\t\t\t};\n\t\t\t\t\t\trequestWithoutMatchResource = request.slice(\n\t\t\t\t\t\t\tmatchResourceMatch[0].length\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tscheme = getScheme(requestWithoutMatchResource);\n\n\t\t\t\t\tif (!scheme && !contextScheme) {\n\t\t\t\t\t\tconst firstChar = requestWithoutMatchResource.charCodeAt(0);\n\t\t\t\t\t\tconst secondChar = requestWithoutMatchResource.charCodeAt(1);\n\t\t\t\t\t\tnoPreAutoLoaders = firstChar === 45 && secondChar === 33; // startsWith \"-!\"\n\t\t\t\t\t\tnoAutoLoaders = noPreAutoLoaders || firstChar === 33; // startsWith \"!\"\n\t\t\t\t\t\tnoPrePostAutoLoaders = firstChar === 33 && secondChar === 33; // startsWith \"!!\";\n\t\t\t\t\t\tconst rawElements = requestWithoutMatchResource\n\t\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\t\tnoPreAutoLoaders || noPrePostAutoLoaders\n\t\t\t\t\t\t\t\t\t? 2\n\t\t\t\t\t\t\t\t\t: noAutoLoaders\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.split(/!+/);\n\t\t\t\t\t\tunresolvedResource = /** @type {string} */ (rawElements.pop());\n\t\t\t\t\t\telements = rawElements.map(el => {\n\t\t\t\t\t\t\tconst { path, query } = cachedParseResourceWithoutFragment(el);\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tloader: path,\n\t\t\t\t\t\t\t\toptions: query ? query.slice(1) : undefined\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tscheme = getScheme(unresolvedResource);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunresolvedResource = requestWithoutMatchResource;\n\t\t\t\t\t\telements = EMPTY_ELEMENTS;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tunresolvedResource = request;\n\t\t\t\t\telements = EMPTY_ELEMENTS;\n\t\t\t\t}\n\n\t\t\t\t/** @type {ResolveContext} */\n\t\t\t\tconst resolveContext = {\n\t\t\t\t\tfileDependencies,\n\t\t\t\t\tmissingDependencies,\n\t\t\t\t\tcontextDependencies\n\t\t\t\t};\n\n\t\t\t\t/** @type {ResourceDataWithData} */\n\t\t\t\tlet resourceData;\n\n\t\t\t\t/** @type {undefined | LoaderItem[]} */\n\t\t\t\tlet loaders;\n\n\t\t\t\tconst continueCallback = needCalls(2, err => {\n\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t// translate option idents\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (const item of /** @type {LoaderItem[]} */ (loaders)) {\n\t\t\t\t\t\t\tif (typeof item.options === \"string\" && item.options[0] === \"?\") {\n\t\t\t\t\t\t\t\tconst ident = item.options.slice(1);\n\t\t\t\t\t\t\t\tif (ident === \"[[missing ident]]\") {\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\"No ident is provided by referenced loader. \" +\n\t\t\t\t\t\t\t\t\t\t\t\"When using a function for Rule.use in config you need to \" +\n\t\t\t\t\t\t\t\t\t\t\t\"provide an 'ident' property for referenced loader options.\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\titem.options = this.ruleSet.references.get(ident);\n\t\t\t\t\t\t\t\tif (item.options === undefined) {\n\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\"Invalid ident is provided by referenced loader\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\titem.ident = ident;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (identErr) {\n\t\t\t\t\t\treturn callback(/** @type {Error} */ (identErr));\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!resourceData) {\n\t\t\t\t\t\t// ignored\n\t\t\t\t\t\treturn callback(null, dependencies[0].createIgnoredModule(context));\n\t\t\t\t\t}\n\n\t\t\t\t\tconst userRequest =\n\t\t\t\t\t\t(matchResourceData !== undefined\n\t\t\t\t\t\t\t? `${matchResourceData.resource}!=!`\n\t\t\t\t\t\t\t: \"\") +\n\t\t\t\t\t\tstringifyLoadersAndResource(\n\t\t\t\t\t\t\t/** @type {LoaderItem[]} */ (loaders),\n\t\t\t\t\t\t\tresourceData.resource\n\t\t\t\t\t\t);\n\n\t\t\t\t\t/** @type {ModuleSettings} */\n\t\t\t\t\tconst settings = {};\n\t\t\t\t\tconst useLoadersPost = [];\n\t\t\t\t\tconst useLoaders = [];\n\t\t\t\t\tconst useLoadersPre = [];\n\n\t\t\t\t\t// handle .webpack[] suffix\n\t\t\t\t\tlet resource;\n\t\t\t\t\tlet match;\n\t\t\t\t\tif (\n\t\t\t\t\t\tmatchResourceData &&\n\t\t\t\t\t\ttypeof (resource = matchResourceData.resource) === \"string\" &&\n\t\t\t\t\t\t(match = /\\.webpack\\[([^\\]]+)\\]$/.exec(resource))\n\t\t\t\t\t) {\n\t\t\t\t\t\tsettings.type = match[1];\n\t\t\t\t\t\tmatchResourceData.resource = matchResourceData.resource.slice(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t-settings.type.length - 10\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsettings.type = JAVASCRIPT_MODULE_TYPE_AUTO;\n\t\t\t\t\t\tconst resourceDataForRules = matchResourceData || resourceData;\n\t\t\t\t\t\tconst result = this.ruleSet.exec({\n\t\t\t\t\t\t\tresource: resourceDataForRules.path,\n\t\t\t\t\t\t\trealResource: resourceData.path,\n\t\t\t\t\t\t\tresourceQuery: resourceDataForRules.query,\n\t\t\t\t\t\t\tresourceFragment: resourceDataForRules.fragment,\n\t\t\t\t\t\t\tscheme,\n\t\t\t\t\t\t\tassertions,\n\t\t\t\t\t\t\tmimetype: matchResourceData\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: resourceData.data.mimetype || \"\",\n\t\t\t\t\t\t\tdependency: dependencyType,\n\t\t\t\t\t\t\tdescriptionData: matchResourceData\n\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t: resourceData.data.descriptionFileData,\n\t\t\t\t\t\t\tissuer: contextInfo.issuer,\n\t\t\t\t\t\t\tcompiler: contextInfo.compiler,\n\t\t\t\t\t\t\tissuerLayer: contextInfo.issuerLayer || \"\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfor (const r of result) {\n\t\t\t\t\t\t\t// https://github.com/webpack/webpack/issues/16466\n\t\t\t\t\t\t\t// if a request exists PrePostAutoLoaders, should disable modifying Rule.type\n\t\t\t\t\t\t\tif (r.type === \"type\" && noPrePostAutoLoaders) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (r.type === \"use\") {\n\t\t\t\t\t\t\t\tif (!noAutoLoaders && !noPrePostAutoLoaders) {\n\t\t\t\t\t\t\t\t\tuseLoaders.push(r.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (r.type === \"use-post\") {\n\t\t\t\t\t\t\t\tif (!noPrePostAutoLoaders) {\n\t\t\t\t\t\t\t\t\tuseLoadersPost.push(r.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (r.type === \"use-pre\") {\n\t\t\t\t\t\t\t\tif (!noPreAutoLoaders && !noPrePostAutoLoaders) {\n\t\t\t\t\t\t\t\t\tuseLoadersPre.push(r.value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\ttypeof r.value === \"object\" &&\n\t\t\t\t\t\t\t\tr.value !== null &&\n\t\t\t\t\t\t\t\ttypeof settings[\n\t\t\t\t\t\t\t\t\t/** @type {keyof ModuleSettings} */ (r.type)\n\t\t\t\t\t\t\t\t] === \"object\" &&\n\t\t\t\t\t\t\t\tsettings[/** @type {keyof ModuleSettings} */ (r.type)] !== null\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tsettings[r.type] = cachedCleverMerge(\n\t\t\t\t\t\t\t\t\tsettings[/** @type {keyof ModuleSettings} */ (r.type)],\n\t\t\t\t\t\t\t\t\tr.value\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsettings[r.type] = r.value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/** @type {undefined | LoaderItem[]} */\n\t\t\t\t\tlet postLoaders;\n\t\t\t\t\t/** @type {undefined | LoaderItem[]} */\n\t\t\t\t\tlet normalLoaders;\n\t\t\t\t\t/** @type {undefined | LoaderItem[]} */\n\t\t\t\t\tlet preLoaders;\n\n\t\t\t\t\tconst continueCallback = needCalls(3, err => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst allLoaders = /** @type {LoaderItem[]} */ (postLoaders);\n\t\t\t\t\t\tif (matchResourceData === undefined) {\n\t\t\t\t\t\t\tfor (const loader of /** @type {LoaderItem[]} */ (loaders))\n\t\t\t\t\t\t\t\tallLoaders.push(loader);\n\t\t\t\t\t\t\tfor (const loader of /** @type {LoaderItem[]} */ (normalLoaders))\n\t\t\t\t\t\t\t\tallLoaders.push(loader);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (const loader of /** @type {LoaderItem[]} */ (normalLoaders))\n\t\t\t\t\t\t\t\tallLoaders.push(loader);\n\t\t\t\t\t\t\tfor (const loader of /** @type {LoaderItem[]} */ (loaders))\n\t\t\t\t\t\t\t\tallLoaders.push(loader);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (const loader of /** @type {LoaderItem[]} */ (preLoaders))\n\t\t\t\t\t\t\tallLoaders.push(loader);\n\t\t\t\t\t\tconst type = /** @type {string} */ (settings.type);\n\t\t\t\t\t\tconst resolveOptions = settings.resolve;\n\t\t\t\t\t\tconst layer = settings.layer;\n\t\t\t\t\t\tif (layer !== undefined && !layers) {\n\t\t\t\t\t\t\treturn callback(\n\t\t\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t\t\t\"'Rule.layer' is only allowed when 'experiments.layers' is enabled\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tObject.assign(data.createData, {\n\t\t\t\t\t\t\t\tlayer:\n\t\t\t\t\t\t\t\t\tlayer === undefined ? contextInfo.issuerLayer || null : layer,\n\t\t\t\t\t\t\t\trequest: stringifyLoadersAndResource(\n\t\t\t\t\t\t\t\t\tallLoaders,\n\t\t\t\t\t\t\t\t\tresourceData.resource\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tuserRequest,\n\t\t\t\t\t\t\t\trawRequest: request,\n\t\t\t\t\t\t\t\tloaders: allLoaders,\n\t\t\t\t\t\t\t\tresource: resourceData.resource,\n\t\t\t\t\t\t\t\tcontext:\n\t\t\t\t\t\t\t\t\tresourceData.context || getContext(resourceData.resource),\n\t\t\t\t\t\t\t\tmatchResource: matchResourceData\n\t\t\t\t\t\t\t\t\t? matchResourceData.resource\n\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\tresourceResolveData: resourceData.data,\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tparser: this.getParser(type, settings.parser),\n\t\t\t\t\t\t\t\tparserOptions: settings.parser,\n\t\t\t\t\t\t\t\tgenerator: this.getGenerator(type, settings.generator),\n\t\t\t\t\t\t\t\tgeneratorOptions: settings.generator,\n\t\t\t\t\t\t\t\tresolveOptions\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (createDataErr) {\n\t\t\t\t\t\t\treturn callback(/** @type {Error} */ (createDataErr));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t});\n\t\t\t\t\tthis.resolveRequestArray(\n\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\tthis.context,\n\t\t\t\t\t\tuseLoadersPost,\n\t\t\t\t\t\tloaderResolver,\n\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\tpostLoaders = result;\n\t\t\t\t\t\t\tcontinueCallback(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tthis.resolveRequestArray(\n\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\tthis.context,\n\t\t\t\t\t\tuseLoaders,\n\t\t\t\t\t\tloaderResolver,\n\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\tnormalLoaders = result;\n\t\t\t\t\t\t\tcontinueCallback(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tthis.resolveRequestArray(\n\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\tthis.context,\n\t\t\t\t\t\tuseLoadersPre,\n\t\t\t\t\t\tloaderResolver,\n\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\t\tpreLoaders = result;\n\t\t\t\t\t\t\tcontinueCallback(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\tthis.resolveRequestArray(\n\t\t\t\t\tcontextInfo,\n\t\t\t\t\tcontextScheme ? this.context : context,\n\t\t\t\t\t/** @type {LoaderItem[]} */ (elements),\n\t\t\t\t\tloaderResolver,\n\t\t\t\t\tresolveContext,\n\t\t\t\t\t(err, result) => {\n\t\t\t\t\t\tif (err) return continueCallback(err);\n\t\t\t\t\t\tloaders = result;\n\t\t\t\t\t\tcontinueCallback();\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t/**\n\t\t\t\t * @param {string} context context\n\t\t\t\t */\n\t\t\t\tconst defaultResolve = context => {\n\t\t\t\t\tif (/^($|\\?)/.test(unresolvedResource)) {\n\t\t\t\t\t\tresourceData = {\n\t\t\t\t\t\t\tresource: unresolvedResource,\n\t\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\t\t...cacheParseResource(unresolvedResource)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontinueCallback();\n\t\t\t\t\t}\n\n\t\t\t\t\t// resource without scheme and with path\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst normalResolver = this.getResolver(\n\t\t\t\t\t\t\t\"normal\",\n\t\t\t\t\t\t\tdependencyType\n\t\t\t\t\t\t\t\t? cachedSetProperty(\n\t\t\t\t\t\t\t\t\t\tresolveOptions || EMPTY_RESOLVE_OPTIONS,\n\t\t\t\t\t\t\t\t\t\t\"dependencyType\",\n\t\t\t\t\t\t\t\t\t\tdependencyType\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t: resolveOptions\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.resolveResource(\n\t\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tunresolvedResource,\n\t\t\t\t\t\t\tnormalResolver,\n\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t(err, _resolvedResource, resolvedResourceResolveData) => {\n\t\t\t\t\t\t\t\tif (err) return continueCallback(err);\n\t\t\t\t\t\t\t\tif (_resolvedResource !== false) {\n\t\t\t\t\t\t\t\t\tconst resolvedResource =\n\t\t\t\t\t\t\t\t\t\t/** @type {string} */\n\t\t\t\t\t\t\t\t\t\t(_resolvedResource);\n\t\t\t\t\t\t\t\t\tresourceData = {\n\t\t\t\t\t\t\t\t\t\tresource: resolvedResource,\n\t\t\t\t\t\t\t\t\t\tdata:\n\t\t\t\t\t\t\t\t\t\t\t/** @type {ResolveRequest} */\n\t\t\t\t\t\t\t\t\t\t\t(resolvedResourceResolveData),\n\t\t\t\t\t\t\t\t\t\t...cacheParseResource(resolvedResource)\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcontinueCallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// resource with scheme\n\t\t\t\tif (scheme) {\n\t\t\t\t\tresourceData = {\n\t\t\t\t\t\tresource: unresolvedResource,\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\tpath: undefined,\n\t\t\t\t\t\tquery: undefined,\n\t\t\t\t\t\tfragment: undefined,\n\t\t\t\t\t\tcontext: undefined\n\t\t\t\t\t};\n\t\t\t\t\tthis.hooks.resolveForScheme\n\t\t\t\t\t\t.for(scheme)\n\t\t\t\t\t\t.callAsync(resourceData, data, err => {\n\t\t\t\t\t\t\tif (err) return continueCallback(err);\n\t\t\t\t\t\t\tcontinueCallback();\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// resource within scheme\n\t\t\t\telse if (contextScheme) {\n\t\t\t\t\tresourceData = {\n\t\t\t\t\t\tresource: unresolvedResource,\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\tpath: undefined,\n\t\t\t\t\t\tquery: undefined,\n\t\t\t\t\t\tfragment: undefined,\n\t\t\t\t\t\tcontext: undefined\n\t\t\t\t\t};\n\t\t\t\t\tthis.hooks.resolveInScheme\n\t\t\t\t\t\t.for(contextScheme)\n\t\t\t\t\t\t.callAsync(resourceData, data, (err, handled) => {\n\t\t\t\t\t\t\tif (err) return continueCallback(err);\n\t\t\t\t\t\t\tif (!handled) return defaultResolve(this.context);\n\t\t\t\t\t\t\tcontinueCallback();\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// resource without scheme and without path\n\t\t\t\telse defaultResolve(context);\n\t\t\t}\n\t\t);\n\t}\n\n\tcleanupForCache() {\n\t\tfor (const module of this._restoredUnsafeCacheEntries) {\n\t\t\tChunkGraph.clearChunkGraphForModule(module);\n\t\t\tModuleGraph.clearModuleGraphForModule(module);\n\t\t\tmodule.cleanupForCache();\n\t\t}\n\t}\n\n\t/**\n\t * @param {ModuleFactoryCreateData} data data object\n\t * @param {function((Error | null)=, ModuleFactoryResult=): void} callback callback\n\t * @returns {void}\n\t */\n\tcreate(data, callback) {\n\t\tconst dependencies = /** @type {ModuleDependency[]} */ (data.dependencies);\n\t\tconst context = data.context || this.context;\n\t\tconst resolveOptions = data.resolveOptions || EMPTY_RESOLVE_OPTIONS;\n\t\tconst dependency = dependencies[0];\n\t\tconst request = dependency.request;\n\t\tconst assertions = dependency.assertions;\n\t\tconst contextInfo = data.contextInfo;\n\t\tconst fileDependencies = new LazySet();\n\t\tconst missingDependencies = new LazySet();\n\t\tconst contextDependencies = new LazySet();\n\t\tconst dependencyType =\n\t\t\t(dependencies.length > 0 && dependencies[0].category) || \"\";\n\t\t/** @type {ResolveData} */\n\t\tconst resolveData = {\n\t\t\tcontextInfo,\n\t\t\tresolveOptions,\n\t\t\tcontext,\n\t\t\trequest,\n\t\t\tassertions,\n\t\t\tdependencies,\n\t\t\tdependencyType,\n\t\t\tfileDependencies,\n\t\t\tmissingDependencies,\n\t\t\tcontextDependencies,\n\t\t\tcreateData: {},\n\t\t\tcacheable: true\n\t\t};\n\t\tthis.hooks.beforeResolve.callAsync(resolveData, (err, result) => {\n\t\t\tif (err) {\n\t\t\t\treturn callback(err, {\n\t\t\t\t\tfileDependencies,\n\t\t\t\t\tmissingDependencies,\n\t\t\t\t\tcontextDependencies,\n\t\t\t\t\tcacheable: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Ignored\n\t\t\tif (result === false) {\n\t\t\t\treturn callback(null, {\n\t\t\t\t\tfileDependencies,\n\t\t\t\t\tmissingDependencies,\n\t\t\t\t\tcontextDependencies,\n\t\t\t\t\tcacheable: resolveData.cacheable\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (typeof result === \"object\")\n\t\t\t\tthrow new Error(\n\t\t\t\t\tdeprecationChangedHookMessage(\n\t\t\t\t\t\t\"beforeResolve\",\n\t\t\t\t\t\tthis.hooks.beforeResolve\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\tthis.hooks.factorize.callAsync(resolveData, (err, module) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn callback(err, {\n\t\t\t\t\t\tfileDependencies,\n\t\t\t\t\t\tmissingDependencies,\n\t\t\t\t\t\tcontextDependencies,\n\t\t\t\t\t\tcacheable: false\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tconst factoryResult = {\n\t\t\t\t\tmodule,\n\t\t\t\t\tfileDependencies,\n\t\t\t\t\tmissingDependencies,\n\t\t\t\t\tcontextDependencies,\n\t\t\t\t\tcacheable: resolveData.cacheable\n\t\t\t\t};\n\n\t\t\t\tcallback(null, factoryResult);\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * @param {ModuleFactoryCreateDataContextInfo} contextInfo context info\n\t * @param {string} context context\n\t * @param {string} unresolvedResource unresolved resource\n\t * @param {ResolverWithOptions} resolver resolver\n\t * @param {ResolveContext} resolveContext resolver context\n\t * @param {(err: null | Error, res?: string | false, req?: ResolveRequest) => void} callback callback\n\t */\n\tresolveResource(\n\t\tcontextInfo,\n\t\tcontext,\n\t\tunresolvedResource,\n\t\tresolver,\n\t\tresolveContext,\n\t\tcallback\n\t) {\n\t\tresolver.resolve(\n\t\t\tcontextInfo,\n\t\t\tcontext,\n\t\t\tunresolvedResource,\n\t\t\tresolveContext,\n\t\t\t(err, resolvedResource, resolvedResourceResolveData) => {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn this._resolveResourceErrorHints(\n\t\t\t\t\t\terr,\n\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\tunresolvedResource,\n\t\t\t\t\t\tresolver,\n\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t(err2, hints) => {\n\t\t\t\t\t\t\tif (err2) {\n\t\t\t\t\t\t\t\terr.message += `\nA fatal error happened during resolving additional hints for this error: ${err2.message}`;\n\t\t\t\t\t\t\t\terr.stack += `\n\nA fatal error happened during resolving additional hints for this error:\n${err2.stack}`;\n\t\t\t\t\t\t\t\treturn callback(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (hints && hints.length > 0) {\n\t\t\t\t\t\t\t\terr.message += `\n${hints.join(\"\\n\\n\")}`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Check if the extension is missing a leading dot (e.g. \"js\" instead of \".js\")\n\t\t\t\t\t\t\tlet appendResolveExtensionsHint = false;\n\t\t\t\t\t\t\tconst specifiedExtensions = Array.from(\n\t\t\t\t\t\t\t\tresolver.options.extensions\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst expectedExtensions = specifiedExtensions.map(extension => {\n\t\t\t\t\t\t\t\tif (LEADING_DOT_EXTENSION_REGEX.test(extension)) {\n\t\t\t\t\t\t\t\t\tappendResolveExtensionsHint = true;\n\t\t\t\t\t\t\t\t\treturn `.${extension}`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn extension;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (appendResolveExtensionsHint) {\n\t\t\t\t\t\t\t\terr.message += `\\nDid you miss the leading dot in 'resolve.extensions'? Did you mean '${JSON.stringify(\n\t\t\t\t\t\t\t\t\texpectedExtensions\n\t\t\t\t\t\t\t\t)}' instead of '${JSON.stringify(specifiedExtensions)}'?`;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcallback(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcallback(err, resolvedResource, resolvedResourceResolveData);\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * @param {Error} error error\n\t * @param {ModuleFactoryCreateDataContextInfo} contextInfo context info\n\t * @param {string} context context\n\t * @param {string} unresolvedResource unresolved resource\n\t * @param {ResolverWithOptions} resolver resolver\n\t * @param {ResolveContext} resolveContext resolver context\n\t * @param {Callback<string[]>} callback callback\n\t * @private\n\t */\n\t_resolveResourceErrorHints(\n\t\terror,\n\t\tcontextInfo,\n\t\tcontext,\n\t\tunresolvedResource,\n\t\tresolver,\n\t\tresolveContext,\n\t\tcallback\n\t) {\n\t\tasyncLib.parallel(\n\t\t\t[\n\t\t\t\tcallback => {\n\t\t\t\t\tif (!resolver.options.fullySpecified) return callback();\n\t\t\t\t\tresolver\n\t\t\t\t\t\t.withOptions({\n\t\t\t\t\t\t\tfullySpecified: false\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.resolve(\n\t\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tunresolvedResource,\n\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t(err, resolvedResource) => {\n\t\t\t\t\t\t\t\tif (!err && resolvedResource) {\n\t\t\t\t\t\t\t\t\tconst resource = parseResource(resolvedResource).path.replace(\n\t\t\t\t\t\t\t\t\t\t/^.*[\\\\/]/,\n\t\t\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\treturn callback(\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t`Did you mean '${resource}'?\nBREAKING CHANGE: The request '${unresolvedResource}' failed to resolve only because it was resolved as fully specified\n(probably because the origin is strict EcmaScript Module, e. g. a module with javascript mimetype, a '*.mjs' file, or a '*.js' file where the package.json contains '\"type\": \"module\"').\nThe extension in the request is mandatory for it to be fully specified.\nAdd the extension to the request.`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tcallback => {\n\t\t\t\t\tif (!resolver.options.enforceExtension) return callback();\n\t\t\t\t\tresolver\n\t\t\t\t\t\t.withOptions({\n\t\t\t\t\t\t\tenforceExtension: false,\n\t\t\t\t\t\t\textensions: []\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.resolve(\n\t\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tunresolvedResource,\n\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t(err, resolvedResource) => {\n\t\t\t\t\t\t\t\tif (!err && resolvedResource) {\n\t\t\t\t\t\t\t\t\tlet hint = \"\";\n\t\t\t\t\t\t\t\t\tconst match = /(\\.[^.]+)(\\?|$)/.exec(unresolvedResource);\n\t\t\t\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t\t\t\tconst fixedRequest = unresolvedResource.replace(\n\t\t\t\t\t\t\t\t\t\t\t/(\\.[^.]+)(\\?|$)/,\n\t\t\t\t\t\t\t\t\t\t\t\"$2\"\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\thint = resolver.options.extensions.has(match[1])\n\t\t\t\t\t\t\t\t\t\t\t? `Did you mean '${fixedRequest}'?`\n\t\t\t\t\t\t\t\t\t\t\t: `Did you mean '${fixedRequest}'? Also note that '${match[1]}' is not in 'resolve.extensions' yet and need to be added for this to work?`;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\thint =\n\t\t\t\t\t\t\t\t\t\t\t\"Did you mean to omit the extension or to remove 'resolve.enforceExtension'?\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn callback(\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t\t`The request '${unresolvedResource}' failed to resolve only because 'resolve.enforceExtension' was specified.\n${hint}\nIncluding the extension in the request is no longer possible. Did you mean to enforce including the extension in requests with 'resolve.extensions: []' instead?`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tcallback => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t/^\\.\\.?\\//.test(unresolvedResource) ||\n\t\t\t\t\t\tresolver.options.preferRelative\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn callback();\n\t\t\t\t\t}\n\t\t\t\t\tresolver.resolve(\n\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t`./${unresolvedResource}`,\n\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t(err, resolvedResource) => {\n\t\t\t\t\t\t\tif (err || !resolvedResource) return callback();\n\t\t\t\t\t\t\tconst moduleDirectories = resolver.options.modules\n\t\t\t\t\t\t\t\t.map(m => (Array.isArray(m) ? m.join(\", \") : m))\n\t\t\t\t\t\t\t\t.join(\", \");\n\t\t\t\t\t\t\tcallback(\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t`Did you mean './${unresolvedResource}'?\nRequests that should resolve in the current directory need to start with './'.\nRequests that start with a name are treated as module requests and resolve within module directories (${moduleDirectories}).\nIf changing the source code is not an option there is also a resolve options called 'preferRelative' which tries to resolve these kind of requests in the current directory too.`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t],\n\t\t\t(err, hints) => {\n\t\t\t\tif (err) return callback(err);\n\t\t\t\tcallback(null, /** @type {string[]} */ (hints).filter(Boolean));\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * @param {ModuleFactoryCreateDataContextInfo} contextInfo context info\n\t * @param {string} context context\n\t * @param {LoaderItem[]} array array\n\t * @param {ResolverWithOptions} resolver resolver\n\t * @param {ResolveContext} resolveContext resolve context\n\t * @param {Callback<LoaderItem[]>} callback callback\n\t * @returns {void} result\n\t */\n\tresolveRequestArray(\n\t\tcontextInfo,\n\t\tcontext,\n\t\tarray,\n\t\tresolver,\n\t\tresolveContext,\n\t\tcallback\n\t) {\n\t\t// LoaderItem\n\t\tif (array.length === 0) return callback(null, array);\n\t\tasyncLib.map(\n\t\t\tarray,\n\t\t\t(item, callback) => {\n\t\t\t\tresolver.resolve(\n\t\t\t\t\tcontextInfo,\n\t\t\t\t\tcontext,\n\t\t\t\t\titem.loader,\n\t\t\t\t\tresolveContext,\n\t\t\t\t\t(err, result, resolveRequest) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\terr &&\n\t\t\t\t\t\t\t/^[^/]*$/.test(item.loader) &&\n\t\t\t\t\t\t\t!item.loader.endsWith(\"-loader\")\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn resolver.resolve(\n\t\t\t\t\t\t\t\tcontextInfo,\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\t`${item.loader}-loader`,\n\t\t\t\t\t\t\t\tresolveContext,\n\t\t\t\t\t\t\t\terr2 => {\n\t\t\t\t\t\t\t\t\tif (!err2) {\n\t\t\t\t\t\t\t\t\t\terr.message =\n\t\t\t\t\t\t\t\t\t\t\t`${err.message}\\n` +\n\t\t\t\t\t\t\t\t\t\t\t\"BREAKING CHANGE: It's no longer allowed to omit the '-loader' suffix when using loaders.\\n\" +\n\t\t\t\t\t\t\t\t\t\t\t`                 You need to specify '${item.loader}-loader' instead of '${item.loader}',\\n` +\n\t\t\t\t\t\t\t\t\t\t\t\"                 see https://webpack.js.org/migrate/3/#automatic-loader-module-name-extension-removed\";\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcallback(err);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (err) return callback(err);\n\n\t\t\t\t\t\tconst parsedResult = this._parseResourceWithoutFragment(\n\t\t\t\t\t\t\t/** @type {string} */ (result)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst type = /\\.mjs$/i.test(parsedResult.path)\n\t\t\t\t\t\t\t? \"module\"\n\t\t\t\t\t\t\t: /\\.cjs$/i.test(parsedResult.path)\n\t\t\t\t\t\t\t\t? \"commonjs\"\n\t\t\t\t\t\t\t\t: /** @type {ResolveRequest} */\n\t\t\t\t\t\t\t\t\t(resolveRequest).descriptionFileData === undefined\n\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t: /** @type {ResolveRequest} */\n\t\t\t\t\t\t\t\t\t\t(resolveRequest).descriptionFileData.type;\n\t\t\t\t\t\tconst resolved = {\n\t\t\t\t\t\t\tloader: parsedResult.path,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\toptions:\n\t\t\t\t\t\t\t\titem.options === undefined\n\t\t\t\t\t\t\t\t\t? parsedResult.query\n\t\t\t\t\t\t\t\t\t\t? parsedResult.query.slice(1)\n\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t: item.options,\n\t\t\t\t\t\t\tident:\n\t\t\t\t\t\t\t\titem.options === undefined\n\t\t\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t\t\t: /** @type {string} */ (item.ident)\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn callback(null, /** @type {LoaderItem} */ (resolved));\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\t/** @type {Callback<TODO>} */ (callback)\n\t\t);\n\t}\n\n\t/**\n\t * @param {string} type type\n\t * @param {ParserOptions} parserOptions parser options\n\t * @returns {Parser} parser\n\t */\n\tgetParser(type, parserOptions = EMPTY_PARSER_OPTIONS) {\n\t\tlet cache = this.parserCache.get(type);\n\n\t\tif (cache === undefined) {\n\t\t\tcache = new WeakMap();\n\t\t\tthis.parserCache.set(type, cache);\n\t\t}\n\n\t\tlet parser = cache.get(parserOptions);\n\n\t\tif (parser === undefined) {\n\t\t\tparser = this.createParser(type, parserOptions);\n\t\t\tcache.set(parserOptions, parser);\n\t\t}\n\n\t\treturn parser;\n\t}\n\n\t/**\n\t * @param {string} type type\n\t * @param {ParserOptions} parserOptions parser options\n\t * @returns {Parser} parser\n\t */\n\tcreateParser(type, parserOptions = {}) {\n\t\tparserOptions = mergeGlobalOptions(\n\t\t\tthis._globalParserOptions,\n\t\t\ttype,\n\t\t\tparserOptions\n\t\t);\n\t\tconst parser = this.hooks.createParser.for(type).call(parserOptions);\n\t\tif (!parser) {\n\t\t\tthrow new Error(`No parser registered for ${type}`);\n\t\t}\n\t\tthis.hooks.parser.for(type).call(parser, parserOptions);\n\t\treturn parser;\n\t}\n\n\t/**\n\t * @param {string} type type of generator\n\t * @param {GeneratorOptions} generatorOptions generator options\n\t * @returns {Generator} generator\n\t */\n\tgetGenerator(type, generatorOptions = EMPTY_GENERATOR_OPTIONS) {\n\t\tlet cache = this.generatorCache.get(type);\n\n\t\tif (cache === undefined) {\n\t\t\tcache = new WeakMap();\n\t\t\tthis.generatorCache.set(type, cache);\n\t\t}\n\n\t\tlet generator = cache.get(generatorOptions);\n\n\t\tif (generator === undefined) {\n\t\t\tgenerator = this.createGenerator(type, generatorOptions);\n\t\t\tcache.set(generatorOptions, generator);\n\t\t}\n\n\t\treturn generator;\n\t}\n\n\t/**\n\t * @param {string} type type of generator\n\t * @param {GeneratorOptions} generatorOptions generator options\n\t * @returns {Generator} generator\n\t */\n\tcreateGenerator(type, generatorOptions = {}) {\n\t\tgeneratorOptions = mergeGlobalOptions(\n\t\t\tthis._globalGeneratorOptions,\n\t\t\ttype,\n\t\t\tgeneratorOptions\n\t\t);\n\t\tconst generator = this.hooks.createGenerator\n\t\t\t.for(type)\n\t\t\t.call(generatorOptions);\n\t\tif (!generator) {\n\t\t\tthrow new Error(`No generator registered for ${type}`);\n\t\t}\n\t\tthis.hooks.generator.for(type).call(generator, generatorOptions);\n\t\treturn generator;\n\t}\n\n\t/**\n\t * @param {Parameters<ResolverFactory[\"get\"]>[0]} type type of resolver\n\t * @param {Parameters<ResolverFactory[\"get\"]>[1]=} resolveOptions options\n\t * @returns {ReturnType<ResolverFactory[\"get\"]>} the resolver\n\t */\n\tgetResolver(type, resolveOptions) {\n\t\treturn this.resolverFactory.get(type, resolveOptions);\n\t}\n}\n\nmodule.exports = NormalModuleFactory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}