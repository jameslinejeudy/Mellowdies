{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\School\\\\Senior Project\\\\Github Branch\\\\Mellowdies\\\\mellowdies\\\\src\\\\Landingpage\\\\Ai.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst menubackground = {/* styles remain unchanged */};\nconst generateButtonStyle = {/* styles remain unchanged */};\nconst descriptionBoxStyle = {/* styles remain unchanged */};\nconst backButtonStyle = {/* styles remain unchanged */};\nconst contentStyle = {/* styles remain unchanged */};\nfunction AIMenu({\n  handleBack\n}) {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const handleGenerateMusic = async () => {\n    setLoading(true);\n    setErrorMessage(null);\n    try {\n      var _result$data, _result$data$;\n      console.log(\"Sending request to generate music with description:\", description);\n\n      // Make the API call using fetch\n      const response = await fetch(\"https://facebook-musicgen.hf.space/api/predict/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          data: [description],\n          // Send description in the format expected by the API\n          fn_index: 0\n        })\n      });\n      if (!response.ok) {\n        throw new Error(\"Fetch failed.\");\n      }\n      const result = await response.json();\n      console.log(\"Generated Music Result:\", result);\n      const wavFilePath = result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : (_result$data$ = _result$data[1]) === null || _result$data$ === void 0 ? void 0 : _result$data$.name;\n      if (!wavFilePath) {\n        throw new Error(\"No WAV file found in the result.\");\n      }\n      const wavFileUrl = `https://facebook-musicgen.hf.space/file=${wavFilePath}`;\n      console.log(\"WAV file URL:\", wavFileUrl);\n      await downloadFile(wavFileUrl, description);\n    } catch (error) {\n      console.error(\"Error generating or downloading music:\", error);\n      setErrorMessage(`Failed to generate or download music: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const downloadFile = async (fileUrl, description) => {\n    try {\n      const response = await fetch(fileUrl);\n      if (!response.ok) {\n        throw new Error(\"Failed to download the music file.\");\n      }\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `${description}_generated_music.wav`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error(\"Error downloading the file:\", error);\n      alert(`Error downloading the file: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: menubackground,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: contentStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"This Is The AI Menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        style: descriptionBoxStyle,\n        placeholder: \"Describe your music...\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: generateButtonStyle,\n        onClick: handleGenerateMusic,\n        disabled: loading,\n        children: loading ? \"Generating...\" : \"Generate Music\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: backButtonStyle,\n        onClick: handleBack,\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(AIMenu, \"0mj0TVS8ih8v9Nti7mm217NrUMA=\");\n_c = AIMenu;\nexport default AIMenu;\nvar _c;\n$RefreshReg$(_c, \"AIMenu\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","menubackground","generateButtonStyle","descriptionBoxStyle","backButtonStyle","contentStyle","AIMenu","handleBack","_s","loading","setLoading","description","setDescription","errorMessage","setErrorMessage","handleGenerateMusic","_result$data","_result$data$","console","log","response","fetch","method","headers","body","JSON","stringify","data","fn_index","ok","Error","result","json","wavFilePath","name","wavFileUrl","downloadFile","error","message","fileUrl","blob","url","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","remove","revokeObjectURL","alert","style","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/kevin/Desktop/School/Senior Project/Github Branch/Mellowdies/mellowdies/src/Landingpage/Ai.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst menubackground = { /* styles remain unchanged */ };\r\nconst generateButtonStyle = { /* styles remain unchanged */ };\r\nconst descriptionBoxStyle = { /* styles remain unchanged */ };\r\nconst backButtonStyle = { /* styles remain unchanged */ };\r\nconst contentStyle = { /* styles remain unchanged */ };\r\n\r\nfunction AIMenu({ handleBack }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const handleGenerateMusic = async () => {\r\n    setLoading(true);\r\n    setErrorMessage(null);\r\n\r\n    try {\r\n      console.log(\"Sending request to generate music with description:\", description);\r\n\r\n      // Make the API call using fetch\r\n      const response = await fetch(\"https://facebook-musicgen.hf.space/api/predict/\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          data: [description], // Send description in the format expected by the API\r\n          fn_index: 0\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Fetch failed.\");\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(\"Generated Music Result:\", result);\r\n\r\n      const wavFilePath = result?.data?.[1]?.name;\r\n      if (!wavFilePath) {\r\n        throw new Error(\"No WAV file found in the result.\");\r\n      }\r\n\r\n      const wavFileUrl = `https://facebook-musicgen.hf.space/file=${wavFilePath}`;\r\n      console.log(\"WAV file URL:\", wavFileUrl);\r\n\r\n      await downloadFile(wavFileUrl, description);\r\n    } catch (error) {\r\n      console.error(\"Error generating or downloading music:\", error);\r\n      setErrorMessage(`Failed to generate or download music: ${error.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const downloadFile = async (fileUrl, description) => {\r\n    try {\r\n      const response = await fetch(fileUrl);\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to download the music file.\");\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `${description}_generated_music.wav`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      a.remove();\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error(\"Error downloading the file:\", error);\r\n      alert(`Error downloading the file: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={menubackground}>\r\n      <div style={contentStyle}>\r\n        <h1>This Is The AI Menu</h1>\r\n        {errorMessage && <div>{errorMessage}</div>}\r\n        <textarea\r\n          style={descriptionBoxStyle}\r\n          placeholder=\"Describe your music...\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <button style={generateButtonStyle} onClick={handleGenerateMusic} disabled={loading}>\r\n          {loading ? \"Generating...\" : \"Generate Music\"}\r\n        </button>\r\n        <button style={backButtonStyle} onClick={handleBack}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AIMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}