{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst {\n  RawSource\n} = require(\"webpack-sources\");\nconst AsyncDependenciesBlock = require(\"../AsyncDependenciesBlock\");\nconst Dependency = require(\"../Dependency\");\nconst Module = require(\"../Module\");\nconst ModuleFactory = require(\"../ModuleFactory\");\nconst {\n  WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY\n} = require(\"../ModuleTypeConstants\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst CommonJsRequireDependency = require(\"../dependencies/CommonJsRequireDependency\");\nconst {\n  registerNotSerializable\n} = require(\"../util/serialization\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\")} WebpackOptions */\n/** @typedef {import(\"../Compilation\")} Compilation */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../Dependency\").UpdateHashContext} UpdateHashContext */\n/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n/** @typedef {import(\"../Module\").CodeGenerationContext} CodeGenerationContext */\n/** @typedef {import(\"../Module\").CodeGenerationResult} CodeGenerationResult */\n/** @typedef {import(\"../Module\").LibIdentOptions} LibIdentOptions */\n/** @typedef {import(\"../Module\").NeedBuildContext} NeedBuildContext */\n/** @typedef {import(\"../Module\").SourceTypes} SourceTypes */\n/** @typedef {import(\"../ModuleFactory\").ModuleFactoryCreateData} ModuleFactoryCreateData */\n/** @typedef {import(\"../ModuleFactory\").ModuleFactoryResult} ModuleFactoryResult */\n/** @typedef {import(\"../RequestShortener\")} RequestShortener */\n/** @typedef {import(\"../ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../dependencies/HarmonyImportDependency\")} HarmonyImportDependency */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/fs\").InputFileSystem} InputFileSystem */\n\n/** @typedef {{ client: string, data: string, active: boolean }} ModuleResult */\n\n/**\n * @typedef {object} BackendApi\n * @property {function(function((Error | null)=) : void): void} dispose\n * @property {function(Module): ModuleResult} module\n */\n\nconst HMR_DEPENDENCY_TYPES = new Set([\"import.meta.webpackHot.accept\", \"import.meta.webpackHot.decline\", \"module.hot.accept\", \"module.hot.decline\"]);\n\n/**\n * @param {undefined|string|RegExp|Function} test test option\n * @param {Module} module the module\n * @returns {boolean | null | string} true, if the module should be selected\n */\nconst checkTest = (test, module) => {\n  if (test === undefined) return true;\n  if (typeof test === \"function\") {\n    return test(module);\n  }\n  if (typeof test === \"string\") {\n    const name = module.nameForCondition();\n    return name && name.startsWith(test);\n  }\n  if (test instanceof RegExp) {\n    const name = module.nameForCondition();\n    return name && test.test(name);\n  }\n  return false;\n};\nconst TYPES = new Set([\"javascript\"]);\nclass LazyCompilationDependency extends Dependency {\n  /**\n   * @param {LazyCompilationProxyModule} proxyModule proxy module\n   */\n  constructor(proxyModule) {\n    super();\n    this.proxyModule = proxyModule;\n  }\n  get category() {\n    return \"esm\";\n  }\n  get type() {\n    return \"lazy import()\";\n  }\n\n  /**\n   * @returns {string | null} an identifier to merge equal requests\n   */\n  getResourceIdentifier() {\n    return this.proxyModule.originalModule.identifier();\n  }\n}\nregisterNotSerializable(LazyCompilationDependency);\nclass LazyCompilationProxyModule extends Module {\n  /**\n   * @param {string} context context\n   * @param {Module} originalModule an original module\n   * @param {string} request request\n   * @param {ModuleResult[\"client\"]} client client\n   * @param {ModuleResult[\"data\"]} data data\n   * @param {ModuleResult[\"active\"]} active true when active, otherwise false\n   */\n  constructor(context, originalModule, request, client, data, active) {\n    super(WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY, context, originalModule.layer);\n    this.originalModule = originalModule;\n    this.request = request;\n    this.client = client;\n    this.data = data;\n    this.active = active;\n  }\n\n  /**\n   * @returns {string} a unique identifier of the module\n   */\n  identifier() {\n    return `${WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY}|${this.originalModule.identifier()}`;\n  }\n\n  /**\n   * @param {RequestShortener} requestShortener the request shortener\n   * @returns {string} a user readable identifier of the module\n   */\n  readableIdentifier(requestShortener) {\n    return `${WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY} ${this.originalModule.readableIdentifier(requestShortener)}`;\n  }\n\n  /**\n   * Assuming this module is in the cache. Update the (cached) module with\n   * the fresh module from the factory. Usually updates internal references\n   * and properties.\n   * @param {Module} module fresh module\n   * @returns {void}\n   */\n  updateCacheModule(module) {\n    super.updateCacheModule(module);\n    const m = /** @type {LazyCompilationProxyModule} */module;\n    this.originalModule = m.originalModule;\n    this.request = m.request;\n    this.client = m.client;\n    this.data = m.data;\n    this.active = m.active;\n  }\n\n  /**\n   * @param {LibIdentOptions} options options\n   * @returns {string | null} an identifier for library inclusion\n   */\n  libIdent(options) {\n    return `${this.originalModule.libIdent(options)}!${WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY}`;\n  }\n\n  /**\n   * @param {NeedBuildContext} context context info\n   * @param {function((WebpackError | null)=, boolean=): void} callback callback function, returns true, if the module needs a rebuild\n   * @returns {void}\n   */\n  needBuild(context, callback) {\n    callback(null, !this.buildInfo || this.buildInfo.active !== this.active);\n  }\n\n  /**\n   * @param {WebpackOptions} options webpack options\n   * @param {Compilation} compilation the compilation\n   * @param {ResolverWithOptions} resolver the resolver\n   * @param {InputFileSystem} fs the file system\n   * @param {function(WebpackError=): void} callback callback function\n   * @returns {void}\n   */\n  build(options, compilation, resolver, fs, callback) {\n    this.buildInfo = {\n      active: this.active\n    };\n    /** @type {BuildMeta} */\n    this.buildMeta = {};\n    this.clearDependenciesAndBlocks();\n    const dep = new CommonJsRequireDependency(this.client);\n    this.addDependency(dep);\n    if (this.active) {\n      const dep = new LazyCompilationDependency(this);\n      const block = new AsyncDependenciesBlock({});\n      block.addDependency(dep);\n      this.addBlock(block);\n    }\n    callback();\n  }\n\n  /**\n   * @returns {SourceTypes} types available (do not mutate)\n   */\n  getSourceTypes() {\n    return TYPES;\n  }\n\n  /**\n   * @param {string=} type the source type for which the size should be estimated\n   * @returns {number} the estimated size of the module (must be non-zero)\n   */\n  size(type) {\n    return 200;\n  }\n\n  /**\n   * @param {CodeGenerationContext} context context for code generation\n   * @returns {CodeGenerationResult} result\n   */\n  codeGeneration({\n    runtimeTemplate,\n    chunkGraph,\n    moduleGraph\n  }) {\n    const sources = new Map();\n    const runtimeRequirements = new Set();\n    runtimeRequirements.add(RuntimeGlobals.module);\n    const clientDep = /** @type {CommonJsRequireDependency} */\n    this.dependencies[0];\n    const clientModule = moduleGraph.getModule(clientDep);\n    const block = this.blocks[0];\n    const client = Template.asString([`var client = ${runtimeTemplate.moduleExports({\n      module: clientModule,\n      chunkGraph,\n      request: clientDep.userRequest,\n      runtimeRequirements\n    })}`, `var data = ${JSON.stringify(this.data)};`]);\n    const keepActive = Template.asString([`var dispose = client.keepAlive({ data: data, active: ${JSON.stringify(Boolean(block))}, module: module, onError: onError });`]);\n    let source;\n    if (block) {\n      const dep = block.dependencies[0];\n      const module = /** @type {Module} */moduleGraph.getModule(dep);\n      source = Template.asString([client, `module.exports = ${runtimeTemplate.moduleNamespacePromise({\n        chunkGraph,\n        block,\n        module,\n        request: this.request,\n        strict: false,\n        // TODO this should be inherited from the original module\n        message: \"import()\",\n        runtimeRequirements\n      })};`, \"if (module.hot) {\", Template.indent([\"module.hot.accept();\", `module.hot.accept(${JSON.stringify(chunkGraph.getModuleId(module))}, function() { module.hot.invalidate(); });`, \"module.hot.dispose(function(data) { delete data.resolveSelf; dispose(data); });\", \"if (module.hot.data && module.hot.data.resolveSelf) module.hot.data.resolveSelf(module.exports);\"]), \"}\", \"function onError() { /* ignore */ }\", keepActive]);\n    } else {\n      source = Template.asString([client, \"var resolveSelf, onError;\", \"module.exports = new Promise(function(resolve, reject) { resolveSelf = resolve; onError = reject; });\", \"if (module.hot) {\", Template.indent([\"module.hot.accept();\", \"if (module.hot.data && module.hot.data.resolveSelf) module.hot.data.resolveSelf(module.exports);\", \"module.hot.dispose(function(data) { data.resolveSelf = resolveSelf; dispose(data); });\"]), \"}\", keepActive]);\n    }\n    sources.set(\"javascript\", new RawSource(source));\n    return {\n      sources,\n      runtimeRequirements\n    };\n  }\n\n  /**\n   * @param {Hash} hash the hash used to track dependencies\n   * @param {UpdateHashContext} context context\n   * @returns {void}\n   */\n  updateHash(hash, context) {\n    super.updateHash(hash, context);\n    hash.update(this.active ? \"active\" : \"\");\n    hash.update(JSON.stringify(this.data));\n  }\n}\nregisterNotSerializable(LazyCompilationProxyModule);\nclass LazyCompilationDependencyFactory extends ModuleFactory {\n  constructor() {\n    super();\n  }\n\n  /**\n   * @param {ModuleFactoryCreateData} data data object\n   * @param {function((Error | null)=, ModuleFactoryResult=): void} callback callback\n   * @returns {void}\n   */\n  create(data, callback) {\n    const dependency = /** @type {LazyCompilationDependency} */\n    data.dependencies[0];\n    callback(null, {\n      module: dependency.proxyModule.originalModule\n    });\n  }\n}\nclass LazyCompilationPlugin {\n  /**\n   * @param {object} options options\n   * @param {(function(Compiler, function(Error=, BackendApi?): void): void) | function(Compiler): Promise<BackendApi>} options.backend the backend\n   * @param {boolean} options.entries true, when entries are lazy compiled\n   * @param {boolean} options.imports true, when import() modules are lazy compiled\n   * @param {RegExp | string | (function(Module): boolean) | undefined} options.test additional filter for lazy compiled entrypoint modules\n   */\n  constructor({\n    backend,\n    entries,\n    imports,\n    test\n  }) {\n    this.backend = backend;\n    this.entries = entries;\n    this.imports = imports;\n    this.test = test;\n  }\n\n  /**\n   * Apply the plugin\n   * @param {Compiler} compiler the compiler instance\n   * @returns {void}\n   */\n  apply(compiler) {\n    /** @type {BackendApi} */\n    let backend;\n    compiler.hooks.beforeCompile.tapAsync(\"LazyCompilationPlugin\", (params, callback) => {\n      if (backend !== undefined) return callback();\n      const promise = this.backend(compiler, (err, result) => {\n        if (err) return callback(err);\n        backend = /** @type {BackendApi} */result;\n        callback();\n      });\n      if (promise && promise.then) {\n        promise.then(b => {\n          backend = b;\n          callback();\n        }, callback);\n      }\n    });\n    compiler.hooks.thisCompilation.tap(\"LazyCompilationPlugin\", (compilation, {\n      normalModuleFactory\n    }) => {\n      normalModuleFactory.hooks.module.tap(\"LazyCompilationPlugin\", (originalModule, createData, resolveData) => {\n        if (resolveData.dependencies.every(dep => HMR_DEPENDENCY_TYPES.has(dep.type))) {\n          // for HMR only resolving, try to determine if the HMR accept/decline refers to\n          // an import() or not\n          const hmrDep = resolveData.dependencies[0];\n          const originModule = /** @type {Module} */\n          compilation.moduleGraph.getParentModule(hmrDep);\n          const isReferringToDynamicImport = originModule.blocks.some(block => block.dependencies.some(dep => dep.type === \"import()\" && /** @type {HarmonyImportDependency} */dep.request === hmrDep.request));\n          if (!isReferringToDynamicImport) return;\n        } else if (!resolveData.dependencies.every(dep => HMR_DEPENDENCY_TYPES.has(dep.type) || this.imports && (dep.type === \"import()\" || dep.type === \"import() context element\") || this.entries && dep.type === \"entry\")) return;\n        if (/webpack[/\\\\]hot[/\\\\]|webpack-dev-server[/\\\\]client|webpack-hot-middleware[/\\\\]client/.test(resolveData.request) || !checkTest(this.test, originalModule)) return;\n        const moduleInfo = backend.module(originalModule);\n        if (!moduleInfo) return;\n        const {\n          client,\n          data,\n          active\n        } = moduleInfo;\n        return new LazyCompilationProxyModule(compiler.context, originalModule, resolveData.request, client, data, active);\n      });\n      compilation.dependencyFactories.set(LazyCompilationDependency, new LazyCompilationDependencyFactory());\n    });\n    compiler.hooks.shutdown.tapAsync(\"LazyCompilationPlugin\", callback => {\n      backend.dispose(callback);\n    });\n  }\n}\nmodule.exports = LazyCompilationPlugin;","map":{"version":3,"names":["RawSource","require","AsyncDependenciesBlock","Dependency","Module","ModuleFactory","WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY","RuntimeGlobals","Template","CommonJsRequireDependency","registerNotSerializable","HMR_DEPENDENCY_TYPES","Set","checkTest","test","module","undefined","name","nameForCondition","startsWith","RegExp","TYPES","LazyCompilationDependency","constructor","proxyModule","category","type","getResourceIdentifier","originalModule","identifier","LazyCompilationProxyModule","context","request","client","data","active","layer","readableIdentifier","requestShortener","updateCacheModule","m","libIdent","options","needBuild","callback","buildInfo","build","compilation","resolver","fs","buildMeta","clearDependenciesAndBlocks","dep","addDependency","block","addBlock","getSourceTypes","size","codeGeneration","runtimeTemplate","chunkGraph","moduleGraph","sources","Map","runtimeRequirements","add","clientDep","dependencies","clientModule","getModule","blocks","asString","moduleExports","userRequest","JSON","stringify","keepActive","Boolean","source","moduleNamespacePromise","strict","message","indent","getModuleId","set","updateHash","hash","update","LazyCompilationDependencyFactory","create","dependency","LazyCompilationPlugin","backend","entries","imports","apply","compiler","hooks","beforeCompile","tapAsync","params","promise","err","result","then","b","thisCompilation","tap","normalModuleFactory","createData","resolveData","every","has","hmrDep","originModule","getParentModule","isReferringToDynamicImport","some","moduleInfo","dependencyFactories","shutdown","dispose","exports"],"sources":["C:/Users/james/Downloads/Mellowdies/mellowdies/node_modules/webpack/lib/hmr/LazyCompilationPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst { RawSource } = require(\"webpack-sources\");\nconst AsyncDependenciesBlock = require(\"../AsyncDependenciesBlock\");\nconst Dependency = require(\"../Dependency\");\nconst Module = require(\"../Module\");\nconst ModuleFactory = require(\"../ModuleFactory\");\nconst {\n\tWEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY\n} = require(\"../ModuleTypeConstants\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst CommonJsRequireDependency = require(\"../dependencies/CommonJsRequireDependency\");\nconst { registerNotSerializable } = require(\"../util/serialization\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\")} WebpackOptions */\n/** @typedef {import(\"../Compilation\")} Compilation */\n/** @typedef {import(\"../Compiler\")} Compiler */\n/** @typedef {import(\"../Dependency\").UpdateHashContext} UpdateHashContext */\n/** @typedef {import(\"../Module\").BuildMeta} BuildMeta */\n/** @typedef {import(\"../Module\").CodeGenerationContext} CodeGenerationContext */\n/** @typedef {import(\"../Module\").CodeGenerationResult} CodeGenerationResult */\n/** @typedef {import(\"../Module\").LibIdentOptions} LibIdentOptions */\n/** @typedef {import(\"../Module\").NeedBuildContext} NeedBuildContext */\n/** @typedef {import(\"../Module\").SourceTypes} SourceTypes */\n/** @typedef {import(\"../ModuleFactory\").ModuleFactoryCreateData} ModuleFactoryCreateData */\n/** @typedef {import(\"../ModuleFactory\").ModuleFactoryResult} ModuleFactoryResult */\n/** @typedef {import(\"../RequestShortener\")} RequestShortener */\n/** @typedef {import(\"../ResolverFactory\").ResolverWithOptions} ResolverWithOptions */\n/** @typedef {import(\"../WebpackError\")} WebpackError */\n/** @typedef {import(\"../dependencies/HarmonyImportDependency\")} HarmonyImportDependency */\n/** @typedef {import(\"../util/Hash\")} Hash */\n/** @typedef {import(\"../util/fs\").InputFileSystem} InputFileSystem */\n\n/** @typedef {{ client: string, data: string, active: boolean }} ModuleResult */\n\n/**\n * @typedef {object} BackendApi\n * @property {function(function((Error | null)=) : void): void} dispose\n * @property {function(Module): ModuleResult} module\n */\n\nconst HMR_DEPENDENCY_TYPES = new Set([\n\t\"import.meta.webpackHot.accept\",\n\t\"import.meta.webpackHot.decline\",\n\t\"module.hot.accept\",\n\t\"module.hot.decline\"\n]);\n\n/**\n * @param {undefined|string|RegExp|Function} test test option\n * @param {Module} module the module\n * @returns {boolean | null | string} true, if the module should be selected\n */\nconst checkTest = (test, module) => {\n\tif (test === undefined) return true;\n\tif (typeof test === \"function\") {\n\t\treturn test(module);\n\t}\n\tif (typeof test === \"string\") {\n\t\tconst name = module.nameForCondition();\n\t\treturn name && name.startsWith(test);\n\t}\n\tif (test instanceof RegExp) {\n\t\tconst name = module.nameForCondition();\n\t\treturn name && test.test(name);\n\t}\n\treturn false;\n};\n\nconst TYPES = new Set([\"javascript\"]);\n\nclass LazyCompilationDependency extends Dependency {\n\t/**\n\t * @param {LazyCompilationProxyModule} proxyModule proxy module\n\t */\n\tconstructor(proxyModule) {\n\t\tsuper();\n\t\tthis.proxyModule = proxyModule;\n\t}\n\n\tget category() {\n\t\treturn \"esm\";\n\t}\n\n\tget type() {\n\t\treturn \"lazy import()\";\n\t}\n\n\t/**\n\t * @returns {string | null} an identifier to merge equal requests\n\t */\n\tgetResourceIdentifier() {\n\t\treturn this.proxyModule.originalModule.identifier();\n\t}\n}\n\nregisterNotSerializable(LazyCompilationDependency);\n\nclass LazyCompilationProxyModule extends Module {\n\t/**\n\t * @param {string} context context\n\t * @param {Module} originalModule an original module\n\t * @param {string} request request\n\t * @param {ModuleResult[\"client\"]} client client\n\t * @param {ModuleResult[\"data\"]} data data\n\t * @param {ModuleResult[\"active\"]} active true when active, otherwise false\n\t */\n\tconstructor(context, originalModule, request, client, data, active) {\n\t\tsuper(\n\t\t\tWEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY,\n\t\t\tcontext,\n\t\t\toriginalModule.layer\n\t\t);\n\t\tthis.originalModule = originalModule;\n\t\tthis.request = request;\n\t\tthis.client = client;\n\t\tthis.data = data;\n\t\tthis.active = active;\n\t}\n\n\t/**\n\t * @returns {string} a unique identifier of the module\n\t */\n\tidentifier() {\n\t\treturn `${WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY}|${this.originalModule.identifier()}`;\n\t}\n\n\t/**\n\t * @param {RequestShortener} requestShortener the request shortener\n\t * @returns {string} a user readable identifier of the module\n\t */\n\treadableIdentifier(requestShortener) {\n\t\treturn `${WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY} ${this.originalModule.readableIdentifier(\n\t\t\trequestShortener\n\t\t)}`;\n\t}\n\n\t/**\n\t * Assuming this module is in the cache. Update the (cached) module with\n\t * the fresh module from the factory. Usually updates internal references\n\t * and properties.\n\t * @param {Module} module fresh module\n\t * @returns {void}\n\t */\n\tupdateCacheModule(module) {\n\t\tsuper.updateCacheModule(module);\n\t\tconst m = /** @type {LazyCompilationProxyModule} */ (module);\n\t\tthis.originalModule = m.originalModule;\n\t\tthis.request = m.request;\n\t\tthis.client = m.client;\n\t\tthis.data = m.data;\n\t\tthis.active = m.active;\n\t}\n\n\t/**\n\t * @param {LibIdentOptions} options options\n\t * @returns {string | null} an identifier for library inclusion\n\t */\n\tlibIdent(options) {\n\t\treturn `${this.originalModule.libIdent(\n\t\t\toptions\n\t\t)}!${WEBPACK_MODULE_TYPE_LAZY_COMPILATION_PROXY}`;\n\t}\n\n\t/**\n\t * @param {NeedBuildContext} context context info\n\t * @param {function((WebpackError | null)=, boolean=): void} callback callback function, returns true, if the module needs a rebuild\n\t * @returns {void}\n\t */\n\tneedBuild(context, callback) {\n\t\tcallback(null, !this.buildInfo || this.buildInfo.active !== this.active);\n\t}\n\n\t/**\n\t * @param {WebpackOptions} options webpack options\n\t * @param {Compilation} compilation the compilation\n\t * @param {ResolverWithOptions} resolver the resolver\n\t * @param {InputFileSystem} fs the file system\n\t * @param {function(WebpackError=): void} callback callback function\n\t * @returns {void}\n\t */\n\tbuild(options, compilation, resolver, fs, callback) {\n\t\tthis.buildInfo = {\n\t\t\tactive: this.active\n\t\t};\n\t\t/** @type {BuildMeta} */\n\t\tthis.buildMeta = {};\n\t\tthis.clearDependenciesAndBlocks();\n\t\tconst dep = new CommonJsRequireDependency(this.client);\n\t\tthis.addDependency(dep);\n\t\tif (this.active) {\n\t\t\tconst dep = new LazyCompilationDependency(this);\n\t\t\tconst block = new AsyncDependenciesBlock({});\n\t\t\tblock.addDependency(dep);\n\t\t\tthis.addBlock(block);\n\t\t}\n\t\tcallback();\n\t}\n\n\t/**\n\t * @returns {SourceTypes} types available (do not mutate)\n\t */\n\tgetSourceTypes() {\n\t\treturn TYPES;\n\t}\n\n\t/**\n\t * @param {string=} type the source type for which the size should be estimated\n\t * @returns {number} the estimated size of the module (must be non-zero)\n\t */\n\tsize(type) {\n\t\treturn 200;\n\t}\n\n\t/**\n\t * @param {CodeGenerationContext} context context for code generation\n\t * @returns {CodeGenerationResult} result\n\t */\n\tcodeGeneration({ runtimeTemplate, chunkGraph, moduleGraph }) {\n\t\tconst sources = new Map();\n\t\tconst runtimeRequirements = new Set();\n\t\truntimeRequirements.add(RuntimeGlobals.module);\n\t\tconst clientDep = /** @type {CommonJsRequireDependency} */ (\n\t\t\tthis.dependencies[0]\n\t\t);\n\t\tconst clientModule = moduleGraph.getModule(clientDep);\n\t\tconst block = this.blocks[0];\n\t\tconst client = Template.asString([\n\t\t\t`var client = ${runtimeTemplate.moduleExports({\n\t\t\t\tmodule: clientModule,\n\t\t\t\tchunkGraph,\n\t\t\t\trequest: clientDep.userRequest,\n\t\t\t\truntimeRequirements\n\t\t\t})}`,\n\t\t\t`var data = ${JSON.stringify(this.data)};`\n\t\t]);\n\t\tconst keepActive = Template.asString([\n\t\t\t`var dispose = client.keepAlive({ data: data, active: ${JSON.stringify(\n\t\t\t\tBoolean(block)\n\t\t\t)}, module: module, onError: onError });`\n\t\t]);\n\t\tlet source;\n\t\tif (block) {\n\t\t\tconst dep = block.dependencies[0];\n\t\t\tconst module = /** @type {Module} */ (moduleGraph.getModule(dep));\n\t\t\tsource = Template.asString([\n\t\t\t\tclient,\n\t\t\t\t`module.exports = ${runtimeTemplate.moduleNamespacePromise({\n\t\t\t\t\tchunkGraph,\n\t\t\t\t\tblock,\n\t\t\t\t\tmodule,\n\t\t\t\t\trequest: this.request,\n\t\t\t\t\tstrict: false, // TODO this should be inherited from the original module\n\t\t\t\t\tmessage: \"import()\",\n\t\t\t\t\truntimeRequirements\n\t\t\t\t})};`,\n\t\t\t\t\"if (module.hot) {\",\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t\"module.hot.accept();\",\n\t\t\t\t\t`module.hot.accept(${JSON.stringify(\n\t\t\t\t\t\tchunkGraph.getModuleId(module)\n\t\t\t\t\t)}, function() { module.hot.invalidate(); });`,\n\t\t\t\t\t\"module.hot.dispose(function(data) { delete data.resolveSelf; dispose(data); });\",\n\t\t\t\t\t\"if (module.hot.data && module.hot.data.resolveSelf) module.hot.data.resolveSelf(module.exports);\"\n\t\t\t\t]),\n\t\t\t\t\"}\",\n\t\t\t\t\"function onError() { /* ignore */ }\",\n\t\t\t\tkeepActive\n\t\t\t]);\n\t\t} else {\n\t\t\tsource = Template.asString([\n\t\t\t\tclient,\n\t\t\t\t\"var resolveSelf, onError;\",\n\t\t\t\t\"module.exports = new Promise(function(resolve, reject) { resolveSelf = resolve; onError = reject; });\",\n\t\t\t\t\"if (module.hot) {\",\n\t\t\t\tTemplate.indent([\n\t\t\t\t\t\"module.hot.accept();\",\n\t\t\t\t\t\"if (module.hot.data && module.hot.data.resolveSelf) module.hot.data.resolveSelf(module.exports);\",\n\t\t\t\t\t\"module.hot.dispose(function(data) { data.resolveSelf = resolveSelf; dispose(data); });\"\n\t\t\t\t]),\n\t\t\t\t\"}\",\n\t\t\t\tkeepActive\n\t\t\t]);\n\t\t}\n\t\tsources.set(\"javascript\", new RawSource(source));\n\t\treturn {\n\t\t\tsources,\n\t\t\truntimeRequirements\n\t\t};\n\t}\n\n\t/**\n\t * @param {Hash} hash the hash used to track dependencies\n\t * @param {UpdateHashContext} context context\n\t * @returns {void}\n\t */\n\tupdateHash(hash, context) {\n\t\tsuper.updateHash(hash, context);\n\t\thash.update(this.active ? \"active\" : \"\");\n\t\thash.update(JSON.stringify(this.data));\n\t}\n}\n\nregisterNotSerializable(LazyCompilationProxyModule);\n\nclass LazyCompilationDependencyFactory extends ModuleFactory {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * @param {ModuleFactoryCreateData} data data object\n\t * @param {function((Error | null)=, ModuleFactoryResult=): void} callback callback\n\t * @returns {void}\n\t */\n\tcreate(data, callback) {\n\t\tconst dependency = /** @type {LazyCompilationDependency} */ (\n\t\t\tdata.dependencies[0]\n\t\t);\n\t\tcallback(null, {\n\t\t\tmodule: dependency.proxyModule.originalModule\n\t\t});\n\t}\n}\n\nclass LazyCompilationPlugin {\n\t/**\n\t * @param {object} options options\n\t * @param {(function(Compiler, function(Error=, BackendApi?): void): void) | function(Compiler): Promise<BackendApi>} options.backend the backend\n\t * @param {boolean} options.entries true, when entries are lazy compiled\n\t * @param {boolean} options.imports true, when import() modules are lazy compiled\n\t * @param {RegExp | string | (function(Module): boolean) | undefined} options.test additional filter for lazy compiled entrypoint modules\n\t */\n\tconstructor({ backend, entries, imports, test }) {\n\t\tthis.backend = backend;\n\t\tthis.entries = entries;\n\t\tthis.imports = imports;\n\t\tthis.test = test;\n\t}\n\n\t/**\n\t * Apply the plugin\n\t * @param {Compiler} compiler the compiler instance\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\t/** @type {BackendApi} */\n\t\tlet backend;\n\t\tcompiler.hooks.beforeCompile.tapAsync(\n\t\t\t\"LazyCompilationPlugin\",\n\t\t\t(params, callback) => {\n\t\t\t\tif (backend !== undefined) return callback();\n\t\t\t\tconst promise = this.backend(compiler, (err, result) => {\n\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\tbackend = /** @type {BackendApi} */ (result);\n\t\t\t\t\tcallback();\n\t\t\t\t});\n\t\t\t\tif (promise && promise.then) {\n\t\t\t\t\tpromise.then(b => {\n\t\t\t\t\t\tbackend = b;\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}, callback);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\tcompiler.hooks.thisCompilation.tap(\n\t\t\t\"LazyCompilationPlugin\",\n\t\t\t(compilation, { normalModuleFactory }) => {\n\t\t\t\tnormalModuleFactory.hooks.module.tap(\n\t\t\t\t\t\"LazyCompilationPlugin\",\n\t\t\t\t\t(originalModule, createData, resolveData) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tresolveData.dependencies.every(dep =>\n\t\t\t\t\t\t\t\tHMR_DEPENDENCY_TYPES.has(dep.type)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// for HMR only resolving, try to determine if the HMR accept/decline refers to\n\t\t\t\t\t\t\t// an import() or not\n\t\t\t\t\t\t\tconst hmrDep = resolveData.dependencies[0];\n\t\t\t\t\t\t\tconst originModule =\n\t\t\t\t\t\t\t\t/** @type {Module} */\n\t\t\t\t\t\t\t\t(compilation.moduleGraph.getParentModule(hmrDep));\n\t\t\t\t\t\t\tconst isReferringToDynamicImport = originModule.blocks.some(\n\t\t\t\t\t\t\t\tblock =>\n\t\t\t\t\t\t\t\t\tblock.dependencies.some(\n\t\t\t\t\t\t\t\t\t\tdep =>\n\t\t\t\t\t\t\t\t\t\t\tdep.type === \"import()\" &&\n\t\t\t\t\t\t\t\t\t\t\t/** @type {HarmonyImportDependency} */ (dep).request ===\n\t\t\t\t\t\t\t\t\t\t\t\thmrDep.request\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (!isReferringToDynamicImport) return;\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t!resolveData.dependencies.every(\n\t\t\t\t\t\t\t\tdep =>\n\t\t\t\t\t\t\t\t\tHMR_DEPENDENCY_TYPES.has(dep.type) ||\n\t\t\t\t\t\t\t\t\t(this.imports &&\n\t\t\t\t\t\t\t\t\t\t(dep.type === \"import()\" ||\n\t\t\t\t\t\t\t\t\t\t\tdep.type === \"import() context element\")) ||\n\t\t\t\t\t\t\t\t\t(this.entries && dep.type === \"entry\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t/webpack[/\\\\]hot[/\\\\]|webpack-dev-server[/\\\\]client|webpack-hot-middleware[/\\\\]client/.test(\n\t\t\t\t\t\t\t\tresolveData.request\n\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t!checkTest(this.test, originalModule)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tconst moduleInfo = backend.module(originalModule);\n\t\t\t\t\t\tif (!moduleInfo) return;\n\t\t\t\t\t\tconst { client, data, active } = moduleInfo;\n\n\t\t\t\t\t\treturn new LazyCompilationProxyModule(\n\t\t\t\t\t\t\tcompiler.context,\n\t\t\t\t\t\t\toriginalModule,\n\t\t\t\t\t\t\tresolveData.request,\n\t\t\t\t\t\t\tclient,\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\tactive\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tcompilation.dependencyFactories.set(\n\t\t\t\t\tLazyCompilationDependency,\n\t\t\t\t\tnew LazyCompilationDependencyFactory()\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\tcompiler.hooks.shutdown.tapAsync(\"LazyCompilationPlugin\", callback => {\n\t\t\tbackend.dispose(callback);\n\t\t});\n\t}\n}\n\nmodule.exports = LazyCompilationPlugin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}