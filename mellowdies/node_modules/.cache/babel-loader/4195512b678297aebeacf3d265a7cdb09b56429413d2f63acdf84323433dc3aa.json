{"ast":null,"code":"import { css as I, LitElement as C, html as b, svg as S } from \"lit\";\nimport { property as k, state as f, customElement as P, query as D } from \"lit/decorators.js\";\nimport { classMap as u } from \"lit/directives/class-map.js\";\nimport { a as Q, f as R, b as H, c as x, d as T, e as q, h as N, t as F, i as $ } from \"./functions.697e57cd.js\";\nfunction d(y, e, t, i) {\n  var s = arguments.length,\n    r = s < 3 ? e : i === null ? i = Object.getOwnPropertyDescriptor(e, t) : i,\n    n;\n  if (typeof Reflect == \"object\" && typeof Reflect.decorate == \"function\") r = Reflect.decorate(y, e, t, i);else for (var a = y.length - 1; a >= 0; a--) (n = y[a]) && (r = (s < 3 ? n(r) : s > 3 ? n(e, t, r) : n(e, t)) || r);\n  return s > 3 && r && Object.defineProperty(e, t, r), r;\n}\nclass z {\n  constructor(e, t) {\n    this.runtime = e, this.canvas = t, this.disposed = !1, this.analyser = e.audioCtx.createAnalyser(), this.analyser.fftSize = 8192, this.analyser.smoothingTimeConstant = 0.5, e.connect(this.analyser), this.analysisData = new Uint8Array(this.analyser.frequencyBinCount);\n    let i = Math.log10(e.audioCtx.sampleRate / 2) - 1;\n    this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.analysisXs = this.calculateAnalysisXs(i), this.resizeObserver = new ResizeObserver(() => {\n      this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.analysisXs = this.calculateAnalysisXs(i);\n    }), this.resizeObserver.observe(this.canvas);\n  }\n  calculateAnalysisXs(e) {\n    return Array.from(this.analysisData).map((t, i) => {\n      let s = i / this.analysisData.length * (this.runtime.audioCtx.sampleRate / 2);\n      return Math.floor((Math.log10(s) - 1) / e * this.canvas.width);\n    });\n  }\n  analyse() {\n    let e = () => {\n      this.disposed || (this.analyser.getByteFrequencyData(this.analysisData), this.draw(), requestAnimationFrame(e));\n    };\n    requestAnimationFrame(e);\n  }\n  draw() {\n    let e = this.canvas.width,\n      t = this.canvas.height,\n      i = this.canvas.height / 255,\n      s = this.canvas.getContext(\"2d\");\n    if (!s) throw new Error(\"Could not get a canvas context!\");\n    s.clearRect(0, 0, e, t);\n    let r = new Path2D();\n    r.moveTo(0, t);\n    for (let n = 0; n < this.analysisData.length; n++) {\n      let a = Math.floor(t - this.analysisData[n] * i);\n      r.lineTo(this.analysisXs[n], a);\n    }\n    r.lineTo(e, t), s.fillStyle = \"rgba(30, 30, 60, 0.7)\", s.fill(r), s.strokeStyle = \"rgb(155, 155, 255)\", s.stroke(r);\n  }\n  dispose() {\n    this.disposed = !0, this.analyser.disconnect(), this.resizeObserver.disconnect();\n  }\n}\nclass E {\n  constructor(e, t) {\n    this.runtime = e, this.canvas = t, this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.frequencies = this.calculateFrequencies(), this.filterMagResponse = new Float32Array(this.frequencies.length), this.filterPhaseResponse = new Float32Array(this.frequencies.length), this.frequencyResponse = new Float32Array(this.frequencies.length), this.resizeObserver = new ResizeObserver(() => {\n      this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.frequencies = this.calculateFrequencies(), this.filterMagResponse = new Float32Array(this.frequencies.length), this.filterPhaseResponse = new Float32Array(this.frequencies.length), this.frequencyResponse = new Float32Array(this.frequencies.length), this.render();\n    }), this.resizeObserver.observe(this.canvas);\n  }\n  dispose() {\n    this.resizeObserver.disconnect();\n  }\n  render() {\n    this.frequencyResponse.fill(1);\n    for (let e = 0; e < this.runtime.spec.length; e++) for (let t = 0; t < Q(this.runtime.spec[e].type); t++) if (this.runtime.getFrequencyResponse(e, t, this.frequencies, this.filterMagResponse, this.filterPhaseResponse)) for (let s = 0; s < this.frequencyResponse.length; s++) this.frequencyResponse[s] *= this.filterMagResponse[s];\n    this.draw();\n  }\n  draw() {\n    let e = this.canvas.getContext(\"2d\"),\n      t = this.canvas.width,\n      i = this.canvas.height;\n    if (!e) throw new Error(\"Could not get a canvas context!\");\n    e.clearRect(0, 0, t, i), e.strokeStyle = \"#ffffff\", e.lineWidth = 2, e.beginPath();\n    let s = 13,\n      r = -s;\n    for (let n = 0; n < this.frequencyResponse.length; n++) {\n      let a = this.frequencyResponse[n],\n        l = 20 * Math.log10(a),\n        o = i - (l - r) / (s - r) * i;\n      n === 0 ? e.moveTo(n, o) : e.lineTo(n, o);\n    }\n    e.stroke();\n  }\n  calculateFrequencies() {\n    let e = new Float32Array(this.canvas.width),\n      t = this.runtime.audioCtx.sampleRate / 2,\n      i = 1,\n      s = Math.log10(t);\n    for (let r = 0; r < this.canvas.width; r++) {\n      let n = i + r / this.canvas.width * (s - i),\n        a = Math.pow(10, n);\n      e[r] = a;\n    }\n    return e;\n  }\n}\nconst A = I`\n  @import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap\");\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  :host {\n    background-color: #111;\n    color: white;\n    --font-stack: \"Inter\", sans-serif;\n    --font-size: 11px;\n    --font-weight: 500;\n    font-family: var(--font-stack);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n  }\n`,\n  M = [[\"noop\", \"Add +\"], [\"lowpass12\", \"LP12\"], [\"lowpass24\", \"LP24\"], [\"highpass12\", \"HP12\"], [\"highpass24\", \"HP24\"], [\"lowshelf12\", \"LS12\"], [\"lowshelf24\", \"LS24\"], [\"highshelf12\", \"HS12\"], [\"highshelf24\", \"HS24\"], [\"peaking12\", \"PK12\"], [\"peaking24\", \"PK24\"], [\"notch12\", \"NT12\"], [\"notch24\", \"NT24\"]];\nvar v;\nlet g = (v = class extends C {\n  constructor() {\n    super(), this.frequencyInputFocused = !1, this.dragStates = {\n      frequency: null,\n      gain: null,\n      Q: null\n    }, this.addEventListener(\"click\", () => this.dispatchEvent(new CustomEvent(\"select\", {\n      composed: !0,\n      bubbles: !0\n    })));\n  }\n  render() {\n    if (!this.runtime || this.index === void 0) return;\n    let e = M.filter(i => this.runtime.supportedFilterTypes.includes(i[0])),\n      t = this.runtime.spec[this.index];\n    return b`\n      <th>\n        <div\n          class=${u({\n      chip: !0,\n      disabled: !R(t.type),\n      bypassed: t.bypass\n    })}\n        >\n          <div\n            class=${u({\n      filterNumber: !0,\n      bypassed: t.bypass\n    })}\n            @click=${() => this.toggleBypass()}\n          >\n            ${this.index + 1}\n          </div>\n          <select\n            class=${u({\n      filterTypeSelect: !0,\n      bypassed: t.bypass\n    })}\n            @change=${i => this.setFilterType(i.target.value)}\n          >\n            ${e.map(([i, s]) => b`<option value=${i} ?selected=${t.type === i}>\n                  ${s}\n                </option>`)}\n          </select>\n        </div>\n      </th>\n      <td>\n        <input\n          class=${u({\n      frequencyInput: !0,\n      numberInput: !0,\n      bypassed: t.bypass\n    })}\n          type=\"number\"\n          step=\"0.1\"\n          lang=\"en_EN\"\n          .value=${H(t.frequency, this.frequencyInputFocused)}\n          ?disabled=${!R(t.type)}\n          @focus=${() => this.frequencyInputFocused = !0}\n          @blur=${() => {\n      this.frequencyInputFocused = !1, this.setFilterFrequency(x(t.frequency, 10, this.nyquist));\n    }}\n          @input=${i => this.setFilterFrequency(i.target.valueAsNumber)}\n          @pointerdown=${i => this.startDraggingValue(i, \"frequency\")}\n          @pointerup=${i => this.stopDraggingValue(i, \"frequency\")}\n          @pointermove=${i => this.dragValue(i, \"frequency\")}\n        />\n        <span\n          class=${u({\n      frequencyUnit: !0,\n      disabled: !R(t.type),\n      bypassed: t.bypass\n    })}\n          >${T(t.frequency, this.frequencyInputFocused)}</span\n        >\n      </td>\n      <td>\n        <input\n          class=${u({\n      gainInput: !0,\n      numberInput: !0,\n      bypassed: t.bypass\n    })}\n          type=\"number\"\n          min=\"-15\"\n          max=\"15\"\n          step=\"0.1\"\n          lang=\"en_EN\"\n          .value=${t.gain.toFixed(1)}\n          ?disabled=${!q(t.type)}\n          @input=${i => this.setFilterGain(i.target.valueAsNumber)}\n          @pointerdown=${i => this.startDraggingValue(i, \"gain\")}\n          @pointerup=${i => this.stopDraggingValue(i, \"gain\")}\n          @pointermove=${i => this.dragValue(i, \"gain\")}\n        />\n        <span\n          class=${u({\n      gainUnit: !0,\n      disabled: !q(t.type),\n      bypassed: t.bypass\n    })}\n          >dB</span\n        >\n      </td>\n      <td>\n        <input\n          class=${u({\n      qInput: !0,\n      numberInput: !0,\n      bypassed: t.bypass\n    })}\n          type=\"number\"\n          min=\"0.1\"\n          max=\"18\"\n          step=\"0.1\"\n          .value=${t.Q.toFixed(2)}\n          ?disabled=${!N(t.type)}\n          @input=${i => this.setFilterQ(i.target.valueAsNumber)}\n          @pointerdown=${i => this.startDraggingValue(i, \"Q\")}\n          @pointerup=${i => this.stopDraggingValue(i, \"Q\")}\n          @pointermove=${i => this.dragValue(i, \"Q\")}\n        />\n      </td>\n    `;\n  }\n  get nyquist() {\n    var e, t;\n    return ((t = (e = this.runtime) == null ? void 0 : e.audioCtx.sampleRate) != null ? t : 48e3) / 2;\n  }\n  toggleBypass() {\n    !this.runtime || this.index === void 0 || this.runtime.toggleBypass(this.index, !this.runtime.spec[this.index].bypass);\n  }\n  setFilterType(e) {\n    !this.runtime || this.index === void 0 || this.runtime.setFilterType(this.index, e);\n  }\n  setFilterFrequency(e) {\n    !this.runtime || this.index === void 0 || isNaN(e) || this.runtime.setFilterFrequency(this.index, e);\n  }\n  setFilterGain(e) {\n    !this.runtime || this.index === void 0 || isNaN(e) || this.runtime.setFilterGain(this.index, e);\n  }\n  setFilterQ(e) {\n    !this.runtime || this.index === void 0 || isNaN(e) || this.runtime.setFilterQ(this.index, e);\n  }\n  startDraggingValue(e, t) {\n    !this.runtime || this.index === void 0 || (e.target.setPointerCapture(e.pointerId), this.dragStates = {\n      ...this.dragStates,\n      [t]: {\n        pointer: e.pointerId,\n        startY: e.clientY,\n        startValue: this.runtime.spec[this.index][t]\n      }\n    });\n  }\n  stopDraggingValue(e, t) {\n    var i;\n    !this.runtime || this.index === void 0 || ((i = this.dragStates[t]) == null ? void 0 : i.pointer) === e.pointerId && (e.target.releasePointerCapture(e.pointerId), this.dragStates = {\n      ...this.dragStates,\n      [t]: null\n    });\n  }\n  dragValue(e, t) {\n    if (!this.runtime || this.index === void 0) return;\n    let i = this.dragStates[t];\n    if (i && i.pointer === e.pointerId) {\n      let s = i.startY,\n        n = -(e.clientY - s),\n        a = x(n / 150, -1, 1);\n      if (t === \"frequency\") {\n        let l = 10,\n          o = this.runtime.audioCtx.sampleRate / 2,\n          h = F(i.startValue, l, o),\n          p = $(h + a, l, o);\n        this.runtime.setFilterFrequency(this.index, p);\n      } else if (t === \"gain\") {\n        let l = a * 15;\n        this.runtime.setFilterGain(this.index, x(i.startValue + l, -15, 15));\n      } else if (t === \"Q\") {\n        let l = 0.1,\n          o = 18,\n          h = F(i.startValue, l, o),\n          p = $(h + a, l, o);\n        this.runtime.setFilterQ(this.index, p);\n      }\n      e.target.blur();\n    }\n  }\n}, (() => {\n  v.styles = [A, I`\n      :host {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: 60px 60px 50px 40px;\n        align-items: center;\n        gap: 4px;\n        background-color: transparent;\n        border-radius: 22px;\n        transition: background-color 0.15s ease;\n      }\n      :host(.selected) {\n        background-color: #373737;\n      }\n      input,\n      select {\n        padding: 0;\n        border: 0;\n      }\n      input {\n        border-bottom: 1px solid transparent;\n        transition: border-color 0.15s ease;\n      }\n      input:focus,\n      input:active {\n        border-color: white;\n      }\n      .chip {\n        display: inline-grid;\n        grid-auto-flow: column;\n        gap: 3px;\n        height: 20px;\n        padding-right: 6px;\n        border-radius: 10px;\n        background: #373737;\n        transition: background-color 0.15s ease;\n      }\n      :host(.selected) .chip .filterNumber {\n        background: #ffcc00;\n      }\n      .chip.disabled:hover {\n        background: #444444;\n      }\n      .filterNumber {\n        cursor: pointer;\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        display: grid;\n        place-content: center;\n        background: white;\n        font-weight: var(--font-weight);\n        color: black;\n        transition: background-color 0.15s ease;\n      }\n      .chip.disabled .filterNumber {\n        background: transparent;\n        color: white;\n      }\n      .chip.bypassed .filterNumber {\n        background: #7d7d7d;\n        color: black;\n      }\n      .filterTypeSelect {\n        width: 30px;\n        appearance: none;\n        outline: none;\n        background-color: transparent;\n        color: white;\n        cursor: pointer;\n        text-align: center;\n        font-family: var(--font-stack);\n        font-size: var(--font-size);\n        font-weight: var(--font-weight);\n      }\n      .filterTypeSelect.bypassed {\n        color: #7d7d7d;\n      }\n      .chip.disabled .filterTypeSelect {\n        pointer-events: all;\n      }\n      .frequencyInput {\n        width: 28px;\n      }\n      .gainInput {\n        width: 26px;\n      }\n      .qInput {\n        width: 30px;\n      }\n      .numberInput {\n        appearance: none;\n        outline: none;\n        background-color: transparent;\n        color: white;\n        text-align: right;\n        -moz-appearance: textfield;\n        font-family: var(--font-stack);\n        font-size: var(--font-size);\n        font-weight: var(--font-weight);\n        touch-action: none;\n      }\n      .numberInput:disabled,\n      .disabled {\n        color: #7d7d7d;\n        pointer-events: none;\n      }\n      .bypassed {\n        color: #7d7d7d;\n      }\n      .numberInput::-webkit-inner-spin-button,\n      .numberInput::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n        margin: 0 !important;\n      }\n    `];\n})(), v);\nd([k({\n  attribute: !1\n})], g.prototype, \"runtime\", void 0);\nd([k()], g.prototype, \"index\", void 0);\nd([f()], g.prototype, \"frequencyInputFocused\", void 0);\nd([f()], g.prototype, \"dragStates\", void 0);\ng = d([P(\"weq8-ui-filter-row\")], g);\nvar w;\nlet c = (w = class extends C {\n  constructor() {\n    super(), this.gridXs = [], this.dragStates = {}, this.selectedFilterIdx = -1, this.addEventListener(\"click\", e => {\n      e.composedPath()[0] === this && (this.selectedFilterIdx = -1);\n    });\n  }\n  updated(e) {\n    var t, i;\n    if (e.has(\"runtime\") && ((t = this.analyser) == null || t.dispose(), (i = this.frequencyResponse) == null || i.dispose(), this.runtime && this.analyserCanvas && this.frequencyResponseCanvas)) {\n      this.analyser = new z(this.runtime, this.analyserCanvas), this.analyser.analyse(), this.frequencyResponse = new E(this.runtime, this.frequencyResponseCanvas), this.frequencyResponse.render();\n      let s = [],\n        r = this.runtime.audioCtx.sampleRate / 2,\n        n = Math.floor(Math.log10(r));\n      for (let a = 0; a < n; a++) {\n        let l = Math.pow(10, a + 1);\n        for (let o = 1; o < 10; o++) {\n          let h = l * o;\n          if (h > r) break;\n          s.push((Math.log10(h) - 1) / (Math.log10(r) - 1) * 100);\n        }\n      }\n      this.gridXs = s, this.runtime.on(\"filtersChanged\", () => {\n        var a, l, o;\n        (a = this.frequencyResponse) == null || a.render(), this.requestUpdate();\n        for (let h of Array.from((o = (l = this.shadowRoot) == null ? void 0 : l.querySelectorAll(\"weq8-ui-filter-row\")) != null ? o : [])) h.requestUpdate();\n      });\n    }\n  }\n  render() {\n    var e;\n    return b`\n      <table class=\"filters\">\n        <thead>\n          <tr>\n            <th class=\"headerFilter\">Filter</th>\n            <th>Freq</th>\n            <th>Gain</th>\n            <th>Q</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${Array.from({\n      length: 8\n    }).map((t, i) => b`<weq8-ui-filter-row\n                class=\"${u({\n      selected: this.selectedFilterIdx === i\n    })}\"\n                .runtime=${this.runtime}\n                .index=${i}\n                @select=${s => {\n      var r;\n      this.selectedFilterIdx = ((r = this.runtime) == null ? void 0 : r.spec[i].type) === \"noop\" ? -1 : i, s.stopPropagation();\n    }}\n              />`)}\n        </tbody>\n      </table>\n      <div class=\"visualisation\">\n        <svg\n          viewBox=\"0 0 100 10\"\n          preserveAspectRatio=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          ${this.gridXs.map(this.renderGridX)}\n          ${[12, 6, 0, -6, -12].map(this.renderGridY)}\n        </svg>\n        <canvas class=\"analyser\"></canvas>\n        <canvas\n          class=\"frequencyResponse\"\n          @click=${() => this.selectedFilterIdx = -1}\n        ></canvas>\n        ${(e = this.runtime) == null ? void 0 : e.spec.map((t, i) => t.type === \"noop\" ? void 0 : this.renderFilterHandle(t, i))}\n      </div>\n    `;\n  }\n  renderGridX(e) {\n    return S`<line\n      class=\"grid-x\"\n      x1=${e}\n      y1=\"0\"\n      x2=${e}\n      y2=\"10\"\n    />`;\n  }\n  renderGridY(e) {\n    let i = (e + 15) / 30 * 10;\n    return S`<line\n      class=\"grid-y\"\n      x1=\"0\"\n      y1=${i}\n      x2=\"100\"\n      y2=${i}\n    />`;\n  }\n  renderFilterHandle(e, t) {\n    var l, o, h, p;\n    if (!this.runtime) return;\n    let i = this.runtime.spec[t].type,\n      s = (o = (l = this.analyserCanvas) == null ? void 0 : l.offsetWidth) != null ? o : 0,\n      r = (p = (h = this.analyserCanvas) == null ? void 0 : h.offsetHeight) != null ? p : 0,\n      n = F(e.frequency, 10, this.runtime.audioCtx.sampleRate / 2) * s,\n      a = r - (e.gain + 15) / 30 * r;\n    return q(i) || (a = r - F(e.Q, 0.1, 18) * r), b`<div\n      class=\"filter-handle-positioner\"\n      style=\"transform: translate(${n}px,${a}px)\"\n      @pointerdown=${m => this.startDraggingFilterHandle(m, t)}\n      @pointerup=${m => this.stopDraggingFilterHandle(m, t)}\n      @pointermove=${m => this.dragFilterHandle(m, t)}\n    >\n      <div\n        class=\"${u({\n      \"filter-handle\": !0,\n      bypassed: e.bypass,\n      selected: t === this.selectedFilterIdx\n    })}\"\n      >\n        ${t + 1}\n      </div>\n    </div>`;\n  }\n  startDraggingFilterHandle(e, t) {\n    e.target.setPointerCapture(e.pointerId), this.dragStates = {\n      ...this.dragStates,\n      [t]: e.pointerId\n    }, this.selectedFilterIdx = t, e.preventDefault();\n  }\n  stopDraggingFilterHandle(e, t) {\n    this.dragStates[t] === e.pointerId && (e.target.releasePointerCapture(e.pointerId), this.dragStates = {\n      ...this.dragStates,\n      [t]: null\n    });\n  }\n  dragFilterHandle(e, t) {\n    var i, s;\n    if (this.runtime && this.dragStates[t] === e.pointerId) {\n      let r = this.runtime.spec[t].type,\n        n = (s = (i = this.frequencyResponseCanvas) == null ? void 0 : i.getBoundingClientRect()) != null ? s : {\n          left: 0,\n          top: 0,\n          width: 0,\n          height: 0\n        },\n        a = e.clientX - n.left,\n        l = e.clientY - n.top,\n        o = $(a / n.width, 10, this.runtime.audioCtx.sampleRate / 2);\n      this.runtime.setFilterFrequency(t, o);\n      let h = 1 - l / n.height;\n      if (q(r)) {\n        let p = x(h * 30 - 15, -15, 15);\n        this.runtime.setFilterGain(t, p);\n      } else {\n        let p = $(h, 0.1, 18);\n        this.runtime.setFilterQ(t, p);\n      }\n    }\n  }\n}, (() => {\n  w.styles = [A, I`\n      :host {\n        display: flex;\n        flex-direction: row;\n        align-items: stretch;\n        gap: 10px;\n        min-width: 600px;\n        min-height: 200px;\n        padding: 20px;\n        border-radius: 8px;\n        overflow: hidden;\n        background: #202020;\n        border: 1px solid #373737;\n      }\n      .filters {\n        display: inline-grid;\n        grid-auto-flow: row;\n        gap: 4px;\n      }\n      .filters tbody,\n      .filters tr {\n        display: contents;\n      }\n      .filters thead {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: 60px 60px 50px 40px;\n        align-items: center;\n        gap: 4px;\n      }\n      .filters thead th {\n        display: grid;\n        place-content: center;\n        height: 20px;\n        border-radius: 10px;\n        font-weight: var(--font-weight);\n        border: 1px solid #373737;\n      }\n      .filters thead th.headerFilter {\n        text-align: left;\n        padding-left: 18px;\n        border: none;\n      }\n      .visualisation {\n        flex: 1;\n        position: relative;\n        border: 1px solid #373737;\n      }\n      canvas,\n      svg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      svg {\n        overflow: visible;\n      }\n      .grid-x,\n      .grid-y {\n        stroke: #333;\n        stroke-width: 1;\n        vector-effect: non-scaling-stroke;\n      }\n      .filter-handle-positioner {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 30px;\n        height: 30px;\n        touch-action: none;\n      }\n      .filter-handle {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background-color: #fff;\n        color: black;\n        transform: translate(-50%, -50%);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        user-select: none;\n        cursor: grab;\n        transition: background-color 0.15s ease;\n      }\n      .filter-handle.selected {\n        background: #ffcc00;\n      }\n      .filter-handle.bypassed {\n        background: #7d7d7d;\n      }\n    `];\n})(), w);\nd([k({\n  attribute: !1\n})], c.prototype, \"runtime\", void 0);\nd([f()], c.prototype, \"analyser\", void 0);\nd([f()], c.prototype, \"frequencyResponse\", void 0);\nd([f()], c.prototype, \"gridXs\", void 0);\nd([f()], c.prototype, \"dragStates\", void 0);\nd([f()], c.prototype, \"selectedFilterIdx\", void 0);\nd([D(\".analyser\")], c.prototype, \"analyserCanvas\", void 0);\nd([D(\".frequencyResponse\")], c.prototype, \"frequencyResponseCanvas\", void 0);\nc = d([P(\"weq8-ui\")], c);\nexport { c as WEQ8UIElement };","map":{"version":3,"names":["css","I","LitElement","C","html","b","svg","S","property","k","state","f","customElement","P","query","D","classMap","u","a","Q","R","H","c","x","d","T","e","q","h","N","t","F","i","$","y","s","arguments","length","r","Object","getOwnPropertyDescriptor","n","Reflect","decorate","defineProperty","z","constructor","runtime","canvas","disposed","analyser","audioCtx","createAnalyser","fftSize","smoothingTimeConstant","connect","analysisData","Uint8Array","frequencyBinCount","Math","log10","sampleRate","width","offsetWidth","window","devicePixelRatio","height","offsetHeight","analysisXs","calculateAnalysisXs","resizeObserver","ResizeObserver","observe","Array","from","map","floor","analyse","getByteFrequencyData","draw","requestAnimationFrame","getContext","Error","clearRect","Path2D","moveTo","lineTo","fillStyle","fill","strokeStyle","stroke","dispose","disconnect","E","frequencies","calculateFrequencies","filterMagResponse","Float32Array","filterPhaseResponse","frequencyResponse","render","spec","type","getFrequencyResponse","lineWidth","beginPath","l","o","pow","A","M","v","g","frequencyInputFocused","dragStates","frequency","gain","addEventListener","dispatchEvent","CustomEvent","composed","bubbles","index","filter","supportedFilterTypes","includes","chip","disabled","bypassed","bypass","filterNumber","toggleBypass","filterTypeSelect","setFilterType","target","value","frequencyInput","numberInput","setFilterFrequency","nyquist","valueAsNumber","startDraggingValue","stopDraggingValue","dragValue","frequencyUnit","gainInput","toFixed","setFilterGain","gainUnit","qInput","setFilterQ","isNaN","setPointerCapture","pointerId","pointer","startY","clientY","startValue","releasePointerCapture","p","blur","styles","attribute","prototype","w","gridXs","selectedFilterIdx","composedPath","updated","has","analyserCanvas","frequencyResponseCanvas","push","on","requestUpdate","shadowRoot","querySelectorAll","selected","stopPropagation","renderGridX","renderGridY","renderFilterHandle","m","startDraggingFilterHandle","stopDraggingFilterHandle","dragFilterHandle","preventDefault","getBoundingClientRect","left","top","clientX","WEQ8UIElement"],"sources":["C:/Users/elect/Documents/CIS/4914/Mellowdies/mellowdies/node_modules/weq8/dist/ui.js"],"sourcesContent":["import { css as I, LitElement as C, html as b, svg as S } from \"lit\";\nimport { property as k, state as f, customElement as P, query as D } from \"lit/decorators.js\";\nimport { classMap as u } from \"lit/directives/class-map.js\";\nimport { a as Q, f as R, b as H, c as x, d as T, e as q, h as N, t as F, i as $ } from \"./functions.697e57cd.js\";\nfunction d(y, e, t, i) {\n  var s = arguments.length, r = s < 3 ? e : i === null ? i = Object.getOwnPropertyDescriptor(e, t) : i, n;\n  if (typeof Reflect == \"object\" && typeof Reflect.decorate == \"function\")\n    r = Reflect.decorate(y, e, t, i);\n  else\n    for (var a = y.length - 1; a >= 0; a--)\n      (n = y[a]) && (r = (s < 3 ? n(r) : s > 3 ? n(e, t, r) : n(e, t)) || r);\n  return s > 3 && r && Object.defineProperty(e, t, r), r;\n}\nclass z {\n  constructor(e, t) {\n    this.runtime = e, this.canvas = t, this.disposed = !1, this.analyser = e.audioCtx.createAnalyser(), this.analyser.fftSize = 8192, this.analyser.smoothingTimeConstant = 0.5, e.connect(this.analyser), this.analysisData = new Uint8Array(this.analyser.frequencyBinCount);\n    let i = Math.log10(e.audioCtx.sampleRate / 2) - 1;\n    this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.analysisXs = this.calculateAnalysisXs(i), this.resizeObserver = new ResizeObserver(() => {\n      this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.analysisXs = this.calculateAnalysisXs(i);\n    }), this.resizeObserver.observe(this.canvas);\n  }\n  calculateAnalysisXs(e) {\n    return Array.from(this.analysisData).map((t, i) => {\n      let s = i / this.analysisData.length * (this.runtime.audioCtx.sampleRate / 2);\n      return Math.floor((Math.log10(s) - 1) / e * this.canvas.width);\n    });\n  }\n  analyse() {\n    let e = () => {\n      this.disposed || (this.analyser.getByteFrequencyData(this.analysisData), this.draw(), requestAnimationFrame(e));\n    };\n    requestAnimationFrame(e);\n  }\n  draw() {\n    let e = this.canvas.width, t = this.canvas.height, i = this.canvas.height / 255, s = this.canvas.getContext(\"2d\");\n    if (!s)\n      throw new Error(\"Could not get a canvas context!\");\n    s.clearRect(0, 0, e, t);\n    let r = new Path2D();\n    r.moveTo(0, t);\n    for (let n = 0; n < this.analysisData.length; n++) {\n      let a = Math.floor(t - this.analysisData[n] * i);\n      r.lineTo(this.analysisXs[n], a);\n    }\n    r.lineTo(e, t), s.fillStyle = \"rgba(30, 30, 60, 0.7)\", s.fill(r), s.strokeStyle = \"rgb(155, 155, 255)\", s.stroke(r);\n  }\n  dispose() {\n    this.disposed = !0, this.analyser.disconnect(), this.resizeObserver.disconnect();\n  }\n}\nclass E {\n  constructor(e, t) {\n    this.runtime = e, this.canvas = t, this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.frequencies = this.calculateFrequencies(), this.filterMagResponse = new Float32Array(this.frequencies.length), this.filterPhaseResponse = new Float32Array(this.frequencies.length), this.frequencyResponse = new Float32Array(this.frequencies.length), this.resizeObserver = new ResizeObserver(() => {\n      this.canvas.width = this.canvas.offsetWidth * window.devicePixelRatio, this.canvas.height = this.canvas.offsetHeight * window.devicePixelRatio, this.frequencies = this.calculateFrequencies(), this.filterMagResponse = new Float32Array(this.frequencies.length), this.filterPhaseResponse = new Float32Array(this.frequencies.length), this.frequencyResponse = new Float32Array(this.frequencies.length), this.render();\n    }), this.resizeObserver.observe(this.canvas);\n  }\n  dispose() {\n    this.resizeObserver.disconnect();\n  }\n  render() {\n    this.frequencyResponse.fill(1);\n    for (let e = 0; e < this.runtime.spec.length; e++)\n      for (let t = 0; t < Q(this.runtime.spec[e].type); t++)\n        if (this.runtime.getFrequencyResponse(e, t, this.frequencies, this.filterMagResponse, this.filterPhaseResponse))\n          for (let s = 0; s < this.frequencyResponse.length; s++)\n            this.frequencyResponse[s] *= this.filterMagResponse[s];\n    this.draw();\n  }\n  draw() {\n    let e = this.canvas.getContext(\"2d\"), t = this.canvas.width, i = this.canvas.height;\n    if (!e)\n      throw new Error(\"Could not get a canvas context!\");\n    e.clearRect(0, 0, t, i), e.strokeStyle = \"#ffffff\", e.lineWidth = 2, e.beginPath();\n    let s = 13, r = -s;\n    for (let n = 0; n < this.frequencyResponse.length; n++) {\n      let a = this.frequencyResponse[n], l = 20 * Math.log10(a), o = i - (l - r) / (s - r) * i;\n      n === 0 ? e.moveTo(n, o) : e.lineTo(n, o);\n    }\n    e.stroke();\n  }\n  calculateFrequencies() {\n    let e = new Float32Array(this.canvas.width), t = this.runtime.audioCtx.sampleRate / 2, i = 1, s = Math.log10(t);\n    for (let r = 0; r < this.canvas.width; r++) {\n      let n = i + r / this.canvas.width * (s - i), a = Math.pow(10, n);\n      e[r] = a;\n    }\n    return e;\n  }\n}\nconst A = I`\n  @import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap\");\n\n  *,\n  *::before,\n  *::after {\n    box-sizing: border-box;\n  }\n\n  :host {\n    background-color: #111;\n    color: white;\n    --font-stack: \"Inter\", sans-serif;\n    --font-size: 11px;\n    --font-weight: 500;\n    font-family: var(--font-stack);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n  }\n`, M = [\n  [\"noop\", \"Add +\"],\n  [\"lowpass12\", \"LP12\"],\n  [\"lowpass24\", \"LP24\"],\n  [\"highpass12\", \"HP12\"],\n  [\"highpass24\", \"HP24\"],\n  [\"lowshelf12\", \"LS12\"],\n  [\"lowshelf24\", \"LS24\"],\n  [\"highshelf12\", \"HS12\"],\n  [\"highshelf24\", \"HS24\"],\n  [\"peaking12\", \"PK12\"],\n  [\"peaking24\", \"PK24\"],\n  [\"notch12\", \"NT12\"],\n  [\"notch24\", \"NT24\"]\n];\nvar v;\nlet g = (v = class extends C {\n  constructor() {\n    super(), this.frequencyInputFocused = !1, this.dragStates = { frequency: null, gain: null, Q: null }, this.addEventListener(\"click\", () => this.dispatchEvent(new CustomEvent(\"select\", { composed: !0, bubbles: !0 })));\n  }\n  render() {\n    if (!this.runtime || this.index === void 0)\n      return;\n    let e = M.filter((i) => this.runtime.supportedFilterTypes.includes(i[0])), t = this.runtime.spec[this.index];\n    return b`\n      <th>\n        <div\n          class=${u({\n      chip: !0,\n      disabled: !R(t.type),\n      bypassed: t.bypass\n    })}\n        >\n          <div\n            class=${u({\n      filterNumber: !0,\n      bypassed: t.bypass\n    })}\n            @click=${() => this.toggleBypass()}\n          >\n            ${this.index + 1}\n          </div>\n          <select\n            class=${u({ filterTypeSelect: !0, bypassed: t.bypass })}\n            @change=${(i) => this.setFilterType(i.target.value)}\n          >\n            ${e.map(([i, s]) => b`<option value=${i} ?selected=${t.type === i}>\n                  ${s}\n                </option>`)}\n          </select>\n        </div>\n      </th>\n      <td>\n        <input\n          class=${u({\n      frequencyInput: !0,\n      numberInput: !0,\n      bypassed: t.bypass\n    })}\n          type=\"number\"\n          step=\"0.1\"\n          lang=\"en_EN\"\n          .value=${H(t.frequency, this.frequencyInputFocused)}\n          ?disabled=${!R(t.type)}\n          @focus=${() => this.frequencyInputFocused = !0}\n          @blur=${() => {\n      this.frequencyInputFocused = !1, this.setFilterFrequency(x(t.frequency, 10, this.nyquist));\n    }}\n          @input=${(i) => this.setFilterFrequency(i.target.valueAsNumber)}\n          @pointerdown=${(i) => this.startDraggingValue(i, \"frequency\")}\n          @pointerup=${(i) => this.stopDraggingValue(i, \"frequency\")}\n          @pointermove=${(i) => this.dragValue(i, \"frequency\")}\n        />\n        <span\n          class=${u({\n      frequencyUnit: !0,\n      disabled: !R(t.type),\n      bypassed: t.bypass\n    })}\n          >${T(t.frequency, this.frequencyInputFocused)}</span\n        >\n      </td>\n      <td>\n        <input\n          class=${u({\n      gainInput: !0,\n      numberInput: !0,\n      bypassed: t.bypass\n    })}\n          type=\"number\"\n          min=\"-15\"\n          max=\"15\"\n          step=\"0.1\"\n          lang=\"en_EN\"\n          .value=${t.gain.toFixed(1)}\n          ?disabled=${!q(t.type)}\n          @input=${(i) => this.setFilterGain(i.target.valueAsNumber)}\n          @pointerdown=${(i) => this.startDraggingValue(i, \"gain\")}\n          @pointerup=${(i) => this.stopDraggingValue(i, \"gain\")}\n          @pointermove=${(i) => this.dragValue(i, \"gain\")}\n        />\n        <span\n          class=${u({\n      gainUnit: !0,\n      disabled: !q(t.type),\n      bypassed: t.bypass\n    })}\n          >dB</span\n        >\n      </td>\n      <td>\n        <input\n          class=${u({\n      qInput: !0,\n      numberInput: !0,\n      bypassed: t.bypass\n    })}\n          type=\"number\"\n          min=\"0.1\"\n          max=\"18\"\n          step=\"0.1\"\n          .value=${t.Q.toFixed(2)}\n          ?disabled=${!N(t.type)}\n          @input=${(i) => this.setFilterQ(i.target.valueAsNumber)}\n          @pointerdown=${(i) => this.startDraggingValue(i, \"Q\")}\n          @pointerup=${(i) => this.stopDraggingValue(i, \"Q\")}\n          @pointermove=${(i) => this.dragValue(i, \"Q\")}\n        />\n      </td>\n    `;\n  }\n  get nyquist() {\n    var e, t;\n    return ((t = (e = this.runtime) == null ? void 0 : e.audioCtx.sampleRate) != null ? t : 48e3) / 2;\n  }\n  toggleBypass() {\n    !this.runtime || this.index === void 0 || this.runtime.toggleBypass(this.index, !this.runtime.spec[this.index].bypass);\n  }\n  setFilterType(e) {\n    !this.runtime || this.index === void 0 || this.runtime.setFilterType(this.index, e);\n  }\n  setFilterFrequency(e) {\n    !this.runtime || this.index === void 0 || isNaN(e) || this.runtime.setFilterFrequency(this.index, e);\n  }\n  setFilterGain(e) {\n    !this.runtime || this.index === void 0 || isNaN(e) || this.runtime.setFilterGain(this.index, e);\n  }\n  setFilterQ(e) {\n    !this.runtime || this.index === void 0 || isNaN(e) || this.runtime.setFilterQ(this.index, e);\n  }\n  startDraggingValue(e, t) {\n    !this.runtime || this.index === void 0 || (e.target.setPointerCapture(e.pointerId), this.dragStates = {\n      ...this.dragStates,\n      [t]: {\n        pointer: e.pointerId,\n        startY: e.clientY,\n        startValue: this.runtime.spec[this.index][t]\n      }\n    });\n  }\n  stopDraggingValue(e, t) {\n    var i;\n    !this.runtime || this.index === void 0 || ((i = this.dragStates[t]) == null ? void 0 : i.pointer) === e.pointerId && (e.target.releasePointerCapture(e.pointerId), this.dragStates = { ...this.dragStates, [t]: null });\n  }\n  dragValue(e, t) {\n    if (!this.runtime || this.index === void 0)\n      return;\n    let i = this.dragStates[t];\n    if (i && i.pointer === e.pointerId) {\n      let s = i.startY, n = -(e.clientY - s), a = x(n / 150, -1, 1);\n      if (t === \"frequency\") {\n        let l = 10, o = this.runtime.audioCtx.sampleRate / 2, h = F(i.startValue, l, o), p = $(h + a, l, o);\n        this.runtime.setFilterFrequency(this.index, p);\n      } else if (t === \"gain\") {\n        let l = a * 15;\n        this.runtime.setFilterGain(this.index, x(i.startValue + l, -15, 15));\n      } else if (t === \"Q\") {\n        let l = 0.1, o = 18, h = F(i.startValue, l, o), p = $(h + a, l, o);\n        this.runtime.setFilterQ(this.index, p);\n      }\n      e.target.blur();\n    }\n  }\n}, (() => {\n  v.styles = [\n    A,\n    I`\n      :host {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: 60px 60px 50px 40px;\n        align-items: center;\n        gap: 4px;\n        background-color: transparent;\n        border-radius: 22px;\n        transition: background-color 0.15s ease;\n      }\n      :host(.selected) {\n        background-color: #373737;\n      }\n      input,\n      select {\n        padding: 0;\n        border: 0;\n      }\n      input {\n        border-bottom: 1px solid transparent;\n        transition: border-color 0.15s ease;\n      }\n      input:focus,\n      input:active {\n        border-color: white;\n      }\n      .chip {\n        display: inline-grid;\n        grid-auto-flow: column;\n        gap: 3px;\n        height: 20px;\n        padding-right: 6px;\n        border-radius: 10px;\n        background: #373737;\n        transition: background-color 0.15s ease;\n      }\n      :host(.selected) .chip .filterNumber {\n        background: #ffcc00;\n      }\n      .chip.disabled:hover {\n        background: #444444;\n      }\n      .filterNumber {\n        cursor: pointer;\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        display: grid;\n        place-content: center;\n        background: white;\n        font-weight: var(--font-weight);\n        color: black;\n        transition: background-color 0.15s ease;\n      }\n      .chip.disabled .filterNumber {\n        background: transparent;\n        color: white;\n      }\n      .chip.bypassed .filterNumber {\n        background: #7d7d7d;\n        color: black;\n      }\n      .filterTypeSelect {\n        width: 30px;\n        appearance: none;\n        outline: none;\n        background-color: transparent;\n        color: white;\n        cursor: pointer;\n        text-align: center;\n        font-family: var(--font-stack);\n        font-size: var(--font-size);\n        font-weight: var(--font-weight);\n      }\n      .filterTypeSelect.bypassed {\n        color: #7d7d7d;\n      }\n      .chip.disabled .filterTypeSelect {\n        pointer-events: all;\n      }\n      .frequencyInput {\n        width: 28px;\n      }\n      .gainInput {\n        width: 26px;\n      }\n      .qInput {\n        width: 30px;\n      }\n      .numberInput {\n        appearance: none;\n        outline: none;\n        background-color: transparent;\n        color: white;\n        text-align: right;\n        -moz-appearance: textfield;\n        font-family: var(--font-stack);\n        font-size: var(--font-size);\n        font-weight: var(--font-weight);\n        touch-action: none;\n      }\n      .numberInput:disabled,\n      .disabled {\n        color: #7d7d7d;\n        pointer-events: none;\n      }\n      .bypassed {\n        color: #7d7d7d;\n      }\n      .numberInput::-webkit-inner-spin-button,\n      .numberInput::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n        margin: 0 !important;\n      }\n    `\n  ];\n})(), v);\nd([\n  k({ attribute: !1 })\n], g.prototype, \"runtime\", void 0);\nd([\n  k()\n], g.prototype, \"index\", void 0);\nd([\n  f()\n], g.prototype, \"frequencyInputFocused\", void 0);\nd([\n  f()\n], g.prototype, \"dragStates\", void 0);\ng = d([\n  P(\"weq8-ui-filter-row\")\n], g);\nvar w;\nlet c = (w = class extends C {\n  constructor() {\n    super(), this.gridXs = [], this.dragStates = {}, this.selectedFilterIdx = -1, this.addEventListener(\"click\", (e) => {\n      e.composedPath()[0] === this && (this.selectedFilterIdx = -1);\n    });\n  }\n  updated(e) {\n    var t, i;\n    if (e.has(\"runtime\") && ((t = this.analyser) == null || t.dispose(), (i = this.frequencyResponse) == null || i.dispose(), this.runtime && this.analyserCanvas && this.frequencyResponseCanvas)) {\n      this.analyser = new z(this.runtime, this.analyserCanvas), this.analyser.analyse(), this.frequencyResponse = new E(this.runtime, this.frequencyResponseCanvas), this.frequencyResponse.render();\n      let s = [], r = this.runtime.audioCtx.sampleRate / 2, n = Math.floor(Math.log10(r));\n      for (let a = 0; a < n; a++) {\n        let l = Math.pow(10, a + 1);\n        for (let o = 1; o < 10; o++) {\n          let h = l * o;\n          if (h > r)\n            break;\n          s.push((Math.log10(h) - 1) / (Math.log10(r) - 1) * 100);\n        }\n      }\n      this.gridXs = s, this.runtime.on(\"filtersChanged\", () => {\n        var a, l, o;\n        (a = this.frequencyResponse) == null || a.render(), this.requestUpdate();\n        for (let h of Array.from((o = (l = this.shadowRoot) == null ? void 0 : l.querySelectorAll(\"weq8-ui-filter-row\")) != null ? o : []))\n          h.requestUpdate();\n      });\n    }\n  }\n  render() {\n    var e;\n    return b`\n      <table class=\"filters\">\n        <thead>\n          <tr>\n            <th class=\"headerFilter\">Filter</th>\n            <th>Freq</th>\n            <th>Gain</th>\n            <th>Q</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${Array.from({ length: 8 }).map((t, i) => b`<weq8-ui-filter-row\n                class=\"${u({ selected: this.selectedFilterIdx === i })}\"\n                .runtime=${this.runtime}\n                .index=${i}\n                @select=${(s) => {\n      var r;\n      this.selectedFilterIdx = ((r = this.runtime) == null ? void 0 : r.spec[i].type) === \"noop\" ? -1 : i, s.stopPropagation();\n    }}\n              />`)}\n        </tbody>\n      </table>\n      <div class=\"visualisation\">\n        <svg\n          viewBox=\"0 0 100 10\"\n          preserveAspectRatio=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          ${this.gridXs.map(this.renderGridX)}\n          ${[12, 6, 0, -6, -12].map(this.renderGridY)}\n        </svg>\n        <canvas class=\"analyser\"></canvas>\n        <canvas\n          class=\"frequencyResponse\"\n          @click=${() => this.selectedFilterIdx = -1}\n        ></canvas>\n        ${(e = this.runtime) == null ? void 0 : e.spec.map((t, i) => t.type === \"noop\" ? void 0 : this.renderFilterHandle(t, i))}\n      </div>\n    `;\n  }\n  renderGridX(e) {\n    return S`<line\n      class=\"grid-x\"\n      x1=${e}\n      y1=\"0\"\n      x2=${e}\n      y2=\"10\"\n    />`;\n  }\n  renderGridY(e) {\n    let i = (e + 15) / 30 * 10;\n    return S`<line\n      class=\"grid-y\"\n      x1=\"0\"\n      y1=${i}\n      x2=\"100\"\n      y2=${i}\n    />`;\n  }\n  renderFilterHandle(e, t) {\n    var l, o, h, p;\n    if (!this.runtime)\n      return;\n    let i = this.runtime.spec[t].type, s = (o = (l = this.analyserCanvas) == null ? void 0 : l.offsetWidth) != null ? o : 0, r = (p = (h = this.analyserCanvas) == null ? void 0 : h.offsetHeight) != null ? p : 0, n = F(e.frequency, 10, this.runtime.audioCtx.sampleRate / 2) * s, a = r - (e.gain + 15) / 30 * r;\n    return q(i) || (a = r - F(e.Q, 0.1, 18) * r), b`<div\n      class=\"filter-handle-positioner\"\n      style=\"transform: translate(${n}px,${a}px)\"\n      @pointerdown=${(m) => this.startDraggingFilterHandle(m, t)}\n      @pointerup=${(m) => this.stopDraggingFilterHandle(m, t)}\n      @pointermove=${(m) => this.dragFilterHandle(m, t)}\n    >\n      <div\n        class=\"${u({\n      \"filter-handle\": !0,\n      bypassed: e.bypass,\n      selected: t === this.selectedFilterIdx\n    })}\"\n      >\n        ${t + 1}\n      </div>\n    </div>`;\n  }\n  startDraggingFilterHandle(e, t) {\n    e.target.setPointerCapture(e.pointerId), this.dragStates = { ...this.dragStates, [t]: e.pointerId }, this.selectedFilterIdx = t, e.preventDefault();\n  }\n  stopDraggingFilterHandle(e, t) {\n    this.dragStates[t] === e.pointerId && (e.target.releasePointerCapture(e.pointerId), this.dragStates = { ...this.dragStates, [t]: null });\n  }\n  dragFilterHandle(e, t) {\n    var i, s;\n    if (this.runtime && this.dragStates[t] === e.pointerId) {\n      let r = this.runtime.spec[t].type, n = (s = (i = this.frequencyResponseCanvas) == null ? void 0 : i.getBoundingClientRect()) != null ? s : {\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0\n      }, a = e.clientX - n.left, l = e.clientY - n.top, o = $(a / n.width, 10, this.runtime.audioCtx.sampleRate / 2);\n      this.runtime.setFilterFrequency(t, o);\n      let h = 1 - l / n.height;\n      if (q(r)) {\n        let p = x(h * 30 - 15, -15, 15);\n        this.runtime.setFilterGain(t, p);\n      } else {\n        let p = $(h, 0.1, 18);\n        this.runtime.setFilterQ(t, p);\n      }\n    }\n  }\n}, (() => {\n  w.styles = [\n    A,\n    I`\n      :host {\n        display: flex;\n        flex-direction: row;\n        align-items: stretch;\n        gap: 10px;\n        min-width: 600px;\n        min-height: 200px;\n        padding: 20px;\n        border-radius: 8px;\n        overflow: hidden;\n        background: #202020;\n        border: 1px solid #373737;\n      }\n      .filters {\n        display: inline-grid;\n        grid-auto-flow: row;\n        gap: 4px;\n      }\n      .filters tbody,\n      .filters tr {\n        display: contents;\n      }\n      .filters thead {\n        display: grid;\n        grid-auto-flow: column;\n        grid-template-columns: 60px 60px 50px 40px;\n        align-items: center;\n        gap: 4px;\n      }\n      .filters thead th {\n        display: grid;\n        place-content: center;\n        height: 20px;\n        border-radius: 10px;\n        font-weight: var(--font-weight);\n        border: 1px solid #373737;\n      }\n      .filters thead th.headerFilter {\n        text-align: left;\n        padding-left: 18px;\n        border: none;\n      }\n      .visualisation {\n        flex: 1;\n        position: relative;\n        border: 1px solid #373737;\n      }\n      canvas,\n      svg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      svg {\n        overflow: visible;\n      }\n      .grid-x,\n      .grid-y {\n        stroke: #333;\n        stroke-width: 1;\n        vector-effect: non-scaling-stroke;\n      }\n      .filter-handle-positioner {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 30px;\n        height: 30px;\n        touch-action: none;\n      }\n      .filter-handle {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        background-color: #fff;\n        color: black;\n        transform: translate(-50%, -50%);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        user-select: none;\n        cursor: grab;\n        transition: background-color 0.15s ease;\n      }\n      .filter-handle.selected {\n        background: #ffcc00;\n      }\n      .filter-handle.bypassed {\n        background: #7d7d7d;\n      }\n    `\n  ];\n})(), w);\nd([\n  k({ attribute: !1 })\n], c.prototype, \"runtime\", void 0);\nd([\n  f()\n], c.prototype, \"analyser\", void 0);\nd([\n  f()\n], c.prototype, \"frequencyResponse\", void 0);\nd([\n  f()\n], c.prototype, \"gridXs\", void 0);\nd([\n  f()\n], c.prototype, \"dragStates\", void 0);\nd([\n  f()\n], c.prototype, \"selectedFilterIdx\", void 0);\nd([\n  D(\".analyser\")\n], c.prototype, \"analyserCanvas\", void 0);\nd([\n  D(\".frequencyResponse\")\n], c.prototype, \"frequencyResponseCanvas\", void 0);\nc = d([\n  P(\"weq8-ui\")\n], c);\nexport {\n  c as WEQ8UIElement\n};\n"],"mappings":"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,CAAC,MAAM;EACRjD,CAAC,CAACkD,MAAM,GAAG,CACTpD,CAAC,EACD5G,CAAC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACF;AACH,CAAC,EAAE,CAAC,EAAE8G,CAAC,CAAC;AACRvF,CAAC,CAAC,CACAf,CAAC,CAAC;EAAEyJ,SAAS,EAAE,CAAC;AAAE,CAAC,CAAC,CACrB,EAAElD,CAAC,CAACmD,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;AAClC3I,CAAC,CAAC,CACAf,CAAC,CAAC,CAAC,CACJ,EAAEuG,CAAC,CAACmD,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;AAChC3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEqG,CAAC,CAACmD,SAAS,EAAE,uBAAuB,EAAE,KAAK,CAAC,CAAC;AAChD3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEqG,CAAC,CAACmD,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;AACrCnD,CAAC,GAAGxF,CAAC,CAAC,CACJX,CAAC,CAAC,oBAAoB,CAAC,CACxB,EAAEmG,CAAC,CAAC;AACL,IA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AGQ,CAAC,CAACoK,OAAO,GAAGrJ,CAAC,CAACmJ,IAAI;QAAElF,CAAC,GAAGhF,CAAC,CAACkI,OAAO,GAAGnH,CAAC,CAACoJ,GAAG;QAAElF,CAAC,GAAG1E,CAAC,CAACf,CAAC,GAAGuB,CAAC,CAACqB,KAAK,EAAE,EAAE,EAAE,IAAI,CAACf,OAAO,CAACI,QAAQ,CAACU,UAAU,GAAG,CAAC,CAAC;MAC9G,IAAI,CAACd,OAAO,CAAC2F,kBAAkB,CAAC5G,CAAC,EAAE6E,CAAC,CAAC;MACrC,IAAI/E,CAAC,GAAG,CAAC,GAAG8E,CAAC,GAAGjE,CAAC,CAACyB,MAAM;MACxB,IAAIvC,CAAC,CAACW,CAAC,CAAC,EAAE;QACR,IAAIyH,CAAC,GAAGxI,CAAC,CAACK,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;QAC/B,IAAI,CAACmB,OAAO,CAACoG,aAAa,CAACrH,CAAC,EAAEiI,CAAC,CAAC;MAClC,CAAC,MAAM;QACL,IAAIA,CAAC,GAAG9H,CAAC,CAACL,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;QACrB,IAAI,CAACmB,OAAO,CAACuG,UAAU,CAACxH,CAAC,EAAEiI,CAAC,CAAC;MAC/B;IACF;EACF;AACF,CAAC,EAAE,CAAC,MAAM;EACRK,CAAC,CAACH,MAAM,GAAG,CACTpD,CAAC,EACD5G,CAAC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,CACF;AACH,CAAC,EAAE,CAAC,EAAEmK,CAAC,CAAC;AACR5I,CAAC,CAAC,CACAf,CAAC,CAAC;EAAEyJ,SAAS,EAAE,CAAC;AAAE,CAAC,CAAC,CACrB,EAAE5I,CAAC,CAAC6I,SAAS,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;AAClC3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEW,CAAC,CAAC6I,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;AACnC3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEW,CAAC,CAAC6I,SAAS,EAAE,mBAAmB,EAAE,KAAK,CAAC,CAAC;AAC5C3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEW,CAAC,CAAC6I,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AACjC3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEW,CAAC,CAAC6I,SAAS,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;AACrC3I,CAAC,CAAC,CACAb,CAAC,CAAC,CAAC,CACJ,EAAEW,CAAC,CAAC6I,SAAS,EAAE,mBAAmB,EAAE,KAAK,CAAC,CAAC;AAC5C3I,CAAC,CAAC,CACAT,CAAC,CAAC,WAAW,CAAC,CACf,EAAEO,CAAC,CAAC6I,SAAS,EAAE,gBAAgB,EAAE,KAAK,CAAC,CAAC;AACzC3I,CAAC,CAAC,CACAT,CAAC,CAAC,oBAAoB,CAAC,CACxB,EAAEO,CAAC,CAAC6I,SAAS,EAAE,yBAAyB,EAAE,KAAK,CAAC,CAAC;AAClD7I,CAAC,GAAGE,CAAC,CAAC,CACJX,CAAC,CAAC,SAAS,CAAC,CACb,EAAES,CAAC,CAAC;AACL,SACEA,CAAC,IAAIyK,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}