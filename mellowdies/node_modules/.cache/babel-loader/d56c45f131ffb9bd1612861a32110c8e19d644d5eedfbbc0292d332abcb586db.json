{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\james\\\\Downloads\\\\Mellowdies\\\\mellowdies\\\\src\\\\Landingpage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst trackbackground = {\n  width: '75%',\n  height: '75%',\n  backgroundColor: 'pink',\n  position: 'fixed',\n  top: '50%',\n  right: '0',\n  transform: 'translateY(-50%)',\n  display: 'flex',\n  justifyContent: 'left',\n  alignItems: 'left'\n};\nconst headingStyle = {\n  color: '#000000',\n  // Black text color\n  fontSize: '3.5rem',\n  marginBottom: '10px',\n  // Space below the heading\n  marginTop: '0',\n  // Space above the heading\n  textAlign: 'center'\n};\nfunction Landingpage() {\n  _s();\n  const waveformRef = useRef(null);\n  const wavesurferRef = useRef(null);\n  const location = useLocation();\n  const {\n    audioFiles\n  } = location.state || {\n    audioFiles: []\n  };\n  const [isReady, setIsReady] = useState(false); // State to track if WaveSurfer is ready\n\n  useEffect(() => {\n    if (audioFiles && audioFiles.length > 0 && waveformRef.current) {\n      console.log('Creating WaveSurfer instance...');\n      wavesurferRef.current = WaveSurfer.create({\n        container: waveformRef.current,\n        waveColor: 'blue',\n        progressColor: '#00FFFF',\n        // The color of the progress bar\n        height: 100,\n        autoCenter: true,\n        // Ensures the progress bar stays centered\n        interact: true,\n        // Enable user interaction (clicking, dragging)\n        backend: 'MediaElement',\n        // Use the MediaElement backend to support interaction\n        cursorWidth: 2,\n        // Visual indication of the cursor\n        cursorColor: '#FF0000',\n        backgroundColor: 'rgba(255, 255, 255, 255)' // Slightly transparent white background\n      });\n      if (wavesurferRef.current) {\n        console.log('Loading audio file:', audioFiles[0].url);\n        wavesurferRef.current.load(audioFiles[0].url);\n\n        // Listen for the ready event to ensure the WaveSurfer instance is fully loaded\n        wavesurferRef.current.on('ready', () => {\n          setIsReady(true); // Set the state to true when ready\n        });\n      }\n\n      // Cleanup function to properly handle the destruction of WaveSurfer\n      return () => {\n        if (wavesurferRef.current) {\n          // Ensure that no operations are in progress before destroying\n          wavesurferRef.current.destroy();\n          wavesurferRef.current = null; // Reset the ref to prevent future access\n        }\n      };\n    } else {\n      console.log('No audio files available to display or waveformRef is not ready.');\n    }\n  }, [audioFiles]);\n  const handlePlayPause = () => {\n    if (wavesurferRef.current && isReady) {\n      wavesurferRef.current.playPause(); // Toggle play/pause\n    } else {\n      console.log('WaveSurfer is not ready yet.');\n    }\n  };\n  const handleSpeedChange = speed => {\n    if (wavesurferRef.current && isReady) {\n      wavesurferRef.current.setPlaybackRate(speed);\n      setSpeed(speed);\n    }\n  };\n  const handleForward = () => {\n    if (wavesurferRef.current && isReady) {\n      const currentTime = wavesurferRef.current.getCurrentTime();\n      wavesurferRef.current.setCurrentTime(currentTime + 5); // Skip forward 5 seconds\n    }\n  };\n  const handleBackward = () => {\n    if (wavesurferRef.current && isReady) {\n      const currentTime = wavesurferRef.current.getCurrentTime();\n      wavesurferRef.current.setCurrentTime(currentTime - 5); // Skip back 5 seconds\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: headingStyle,\n      children: \"Mellowdies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: trackbackground,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: waveformRef,\n        style: {\n          width: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), audioFiles && audioFiles.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        textAlign: 'left'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePlayPause,\n        style: {\n          padding: '10px 20px',\n          fontSize: '16px'\n        },\n        disabled: !isReady // Disable button until WaveSurfer is ready\n        ,\n        children: \"Play/Pause\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No audio tracks available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this);\n}\n_s(Landingpage, \"wNlYvXpvZMOV3enExxmypSJngQs=\", false, function () {\n  return [useLocation];\n});\n_c = Landingpage;\nexport default Landingpage;\nvar _c;\n$RefreshReg$(_c, \"Landingpage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","WaveSurfer","useLocation","jsxDEV","_jsxDEV","trackbackground","width","height","backgroundColor","position","top","right","transform","display","justifyContent","alignItems","headingStyle","color","fontSize","marginBottom","marginTop","textAlign","Landingpage","_s","waveformRef","wavesurferRef","location","audioFiles","state","isReady","setIsReady","length","current","console","log","create","container","waveColor","progressColor","autoCenter","interact","backend","cursorWidth","cursorColor","url","load","on","destroy","handlePlayPause","playPause","handleSpeedChange","speed","setPlaybackRate","setSpeed","handleForward","currentTime","getCurrentTime","setCurrentTime","handleBackward","children","style","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","padding","disabled","_c","$RefreshReg$"],"sources":["C:/Users/james/Downloads/Mellowdies/mellowdies/src/Landingpage.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport WaveSurfer from 'wavesurfer.js';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nconst trackbackground = {\r\n    width: '75%',\r\n    height: '75%',\r\n    backgroundColor: 'pink',\r\n    position: 'fixed',\r\n    top: '50%',\r\n    right: '0',\r\n    transform: 'translateY(-50%)',\r\n    display: 'flex',\r\n    justifyContent: 'left',\r\n    alignItems: 'left',\r\n};\r\n\r\nconst headingStyle = {\r\n    color: '#000000',  // Black text color\r\n    fontSize: '3.5rem',\r\n    marginBottom: '10px',  // Space below the heading\r\n    marginTop: '0',  // Space above the heading\r\n    textAlign: 'center',\r\n\r\n};\r\n\r\nfunction Landingpage() {\r\n    const waveformRef = useRef(null);\r\n    const wavesurferRef = useRef(null);\r\n    const location = useLocation();\r\n    const { audioFiles } = location.state || { audioFiles: [] };\r\n    const [isReady, setIsReady] = useState(false);  // State to track if WaveSurfer is ready\r\n\r\n    useEffect(() => {\r\n        if (audioFiles && audioFiles.length > 0 && waveformRef.current) {\r\n            console.log('Creating WaveSurfer instance...');\r\n            wavesurferRef.current = WaveSurfer.create({\r\n                container: waveformRef.current,\r\n                waveColor: 'blue',\r\n                progressColor: '#00FFFF',  // The color of the progress bar\r\n                height: 100,\r\n                autoCenter: true,  // Ensures the progress bar stays centered\r\n                 interact: true,  // Enable user interaction (clicking, dragging)\r\n                backend: 'MediaElement',  // Use the MediaElement backend to support interaction\r\n                cursorWidth: 2,  // Visual indication of the cursor\r\n                cursorColor: '#FF0000',\r\n                backgroundColor: 'rgba(255, 255, 255, 255)',  // Slightly transparent white background\r\n            });\r\n\r\n            if (wavesurferRef.current) {\r\n                console.log('Loading audio file:', audioFiles[0].url);\r\n                wavesurferRef.current.load(audioFiles[0].url);\r\n\r\n                // Listen for the ready event to ensure the WaveSurfer instance is fully loaded\r\n                wavesurferRef.current.on('ready', () => {\r\n                    setIsReady(true);  // Set the state to true when ready\r\n                });\r\n            }\r\n\r\n            // Cleanup function to properly handle the destruction of WaveSurfer\r\n            return () => {\r\n                if (wavesurferRef.current) {\r\n                    // Ensure that no operations are in progress before destroying\r\n                    wavesurferRef.current.destroy();\r\n                    wavesurferRef.current = null;  // Reset the ref to prevent future access\r\n                }\r\n            };\r\n        } else {\r\n            console.log('No audio files available to display or waveformRef is not ready.');\r\n        }\r\n    }, [audioFiles]);\r\n\r\n    const handlePlayPause = () => {\r\n        if (wavesurferRef.current && isReady) {\r\n            wavesurferRef.current.playPause();  // Toggle play/pause\r\n        } else {\r\n            console.log('WaveSurfer is not ready yet.');\r\n        }\r\n    };\r\n\r\n    const handleSpeedChange = (speed) => {\r\n        if (wavesurferRef.current && isReady) {\r\n            wavesurferRef.current.setPlaybackRate(speed);\r\n            setSpeed(speed);\r\n        }\r\n    };\r\n\r\n    const handleForward = () => {\r\n        if (wavesurferRef.current && isReady) {\r\n            const currentTime = wavesurferRef.current.getCurrentTime();\r\n            wavesurferRef.current.setCurrentTime(currentTime + 5); // Skip forward 5 seconds\r\n        }\r\n    };\r\n\r\n    const handleBackward = () => {\r\n        if (wavesurferRef.current && isReady) {\r\n            const currentTime = wavesurferRef.current.getCurrentTime();\r\n            wavesurferRef.current.setCurrentTime(currentTime - 5); // Skip back 5 seconds\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <h1 style={headingStyle}>Mellowdies</h1>\r\n            <div style={trackbackground}>\r\n                <div ref={waveformRef} style={{ width: '100%' }}></div> {/* Waveform will be displayed here */}\r\n            </div>\r\n\r\n            {audioFiles && audioFiles.length > 0 ? (\r\n                <div style={{ marginTop: '20px', textAlign: 'left' }}>\r\n                    <button\r\n                        onClick={handlePlayPause}\r\n                        style={{ padding: '10px 20px', fontSize: '16px' }}\r\n                        disabled={!isReady}  // Disable button until WaveSurfer is ready\r\n                    >\r\n                        Play/Pause\r\n                    </button>\r\n                </div>\r\n            ) : (\r\n                <p>No audio tracks available.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Landingpage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}